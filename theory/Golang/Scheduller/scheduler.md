# üöÄ –ì–ª—É–±–æ–∫–æ–µ –ø–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ Go

[‚Üê –ù–∞–∑–∞–¥ –≤ —Ç–µ–æ—Ä–∏—é Go](../)

> [!NOTE]
> –û—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞—Ö **–ù–∏–∫–æ–ª–∞—è –¢—É–∑–æ–≤–∞**. –≠—Ç–æ –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ ¬´—Å –Ω—É–ª—è¬ª, –ø–æ–∑–≤–æ–ª—è—é—â–µ–µ –ø–æ–Ω—è—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ *–∫–∞–∫* –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –∏ *–ø–æ—á–µ–º—É* –æ–Ω —É—Å—Ç—Ä–æ–µ–Ω –∏–º–µ–Ω–Ω–æ —Ç–∞–∫.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–í–≤–æ–¥–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ –∑–∞—á–µ–º —ç—Ç–æ –∑–Ω–∞—Ç—å](#–≤–≤–æ–¥–Ω—ã–µ-—Å–ª–æ–≤–∞)
2. [–ö—Ä–∞—Ç–∫–∏–π –ª–∏–∫–±–µ–∑ –ø–æ –æ—Å–Ω–æ–≤–∞–º](#–æ—Å–Ω–æ–≤—ã)
   - [–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞](#–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å)
   - [–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å vs –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º](#concurrency-vs-parallelism)
   - [–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –û–° –∏ —Ç—Ä–µ–¥—ã](#os-scheduler)
3. [–ê–Ω–∞—Ç–æ–º–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞](#context-switch)
   - [OS Threads vs Goroutines](#anatomy-comparison)
   - [–í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#perf-impact)
4. [–ü—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º —Å–≤–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫](#–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
   - [–ú–æ–¥–µ–ª—å 1:1](#model-1-1)
   - [–ü—É–ª —Ç—Ä–µ–¥–æ–≤](#thread-pool)
   - [–ú–æ–¥–µ–ª—å M:N](#model-m-n)
5. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ GMP](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-gmp)
   - [–ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å (GRQ)](#grq)
   - [–õ–æ–∫–∞–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ (LRQ)](#lrq)
6. [–ú–µ—Ö–∞–Ω–∏–∑–º—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏](#–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
   - [Work Stealing](#work-stealing)
   - [Handoff](#handoff)
   - [Network Poller](#netpoller)
7. [–í—ã—Ç–µ—Å–Ω–µ–Ω–∏–µ –∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤](#preemption)
   - [Sysmon](#sysmon)
   - [Cooperative Preemption](#cooperative)
   - [–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏–µ (Go 1.14+)](#forced)
8. [–ü—Ä–∞–∫—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞](#debug)

---

<a name="–≤–≤–æ–¥–Ω—ã–µ-—Å–ª–æ–≤–∞"></a>
## 1. –í–≤–æ–¥–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ –∑–∞—á–µ–º –∏–∑—É—á–∞—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫?

–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π, –Ω–æ —Å–ª–æ–∂–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. Go —Å–¥–µ–ª–∞–ª –µ—ë –¥–æ—Å—Ç—É–ø–Ω–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç—Ä—ë–º —Å—Ç–æ–ª–ø–∞–º:
*   **–ì–æ—Ä—É—Ç–∏–Ω—ã** (–ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã)
*   **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫** (–¥–∏—Ä–∏–∂—ë—Ä)
*   **–ö–∞–Ω–∞–ª—ã** (–º–µ—Ö–∞–Ω–∏–∑–º –æ–±—â–µ–Ω–∏—è)

> [!TIP]
> –°—Ç–∞—Ç—å—è –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç, —á—Ç–æ –≤—ã —É–∂–µ –∑–Ω–∞–∫–æ–º—ã —Å –æ—Å–Ω–æ–≤–∞–º–∏ Go (Tour of Go) –∏ –±–∞–∑–æ–≤—ã–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º –≥–æ—Ä—É—Ç–∏–Ω. –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ-–≤–µ—Ä—Å–∏—é —Å –∂–∏–≤—ã–º–∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –≤ `goschedviz`, –∑–∞–≥–ª—è–Ω–∏—Ç–µ [—Å—é–¥–∞](https://youtu.be/ZTJcaP4G4JM).

---

<a name="–æ—Å–Ω–æ–≤—ã"></a>
## 2. –ö—Ä–∞—Ç–∫–∏–π –ª–∏–∫–±–µ–∑ –ø–æ –æ—Å–Ω–æ–≤–∞–º

<a name="–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å"></a>
### üß© –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

–ö–æ–º–ø—å—é—Ç–µ—Ä –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ** —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–¥–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞. –û–¥–Ω–∞–∫–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CPU –Ω–∞—Å—Ç–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä, —á—Ç–æ –¥–∞–∂–µ –Ω–∞ –æ–¥–Ω–æ–º —è–¥—Ä–µ –æ–Ω —Å–æ–∑–¥–∞–µ—Ç –∏–ª–ª—é–∑–∏—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏, –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—è—Å—å –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.

![–û–¥–Ω–æ—è–¥–µ—Ä–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤ –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª–∏—à—å –æ–¥–Ω—É –∑–∞–¥–∞—á—É, –Ω–æ –Ω–∞–º –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –º–Ω–æ–≥–æ.](img/image_3.png)

<a name="concurrency-vs-parallelism"></a>
### ‚öñÔ∏è –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å vs –ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º

–≠—Ç–æ –¥–≤–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–Ω—è—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –ø—É—Ç–∞—é—Ç:

*   **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å (Concurrency)** ‚Äî —ç—Ç–æ **–¥–∏–∑–∞–π–Ω**. –í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —á–∞—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ *–º–æ–≥—É—Ç* –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ.
*   **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º (Parallelism)** ‚Äî —ç—Ç–æ **–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ**. –ù–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–¥–∞—á —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ (—Ç—Ä–µ–±—É–µ—Ç >1 —è–¥—Ä–∞).

> [!IMPORTANT]
> **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å** ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ –º—ã *—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä—É–µ–º* —Ä–∞–±–æ—Ç—É —Å–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤–µ—â–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
> **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º** ‚Äî –∫–æ–≥–¥–∞ –º—ã *—Ñ–∏–∑–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ–º* –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–µ—â–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

<a name="os-scheduler"></a>
### üö¶ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –û–° –∏ —Ç—Ä–µ–¥—ã

–ù–∞ —É—Ä–æ–≤–Ω–µ –û–° –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º —É–ø—Ä–∞–≤–ª—è–µ—Ç **Kernel Scheduler**. –û–Ω –æ–ø–µ—Ä–∏—Ä—É–µ—Ç **—Ç—Ä–µ–¥–∞–º–∏ (–ø–æ—Ç–æ–∫–∞–º–∏)**.
–¢—Ä–µ–¥ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –æ–¥–Ω–æ–º –∏–∑ —Ç—Ä—ë—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π:
1.  **Executing**: –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ —è–¥—Ä–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å.
2.  **Runnable**: –ì–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ, –∂–¥—ë—Ç —Å–≤–æ–µ–π –æ—á–µ—Ä–µ–¥–∏.
3.  **Waiting**: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (I/O, —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤, –º—å—é—Ç–µ–∫—Å).

---

<a name="context-switch"></a>
## 3. –ê–Ω–∞—Ç–æ–º–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

<a name="anatomy-comparison"></a>
### üîç OS Threads vs Goroutines

–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (Context Switching) ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–æ–≤–æ–π. 

#### **Kernel-level Context Switch (–ü–æ—Ç–æ–∫–∏ –û–°)** ‚Äî üõë **–î–æ—Ä–æ–≥–æ**
–ö–æ–≥–¥–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –û–° –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –ø–æ—Ç–æ–∫–∏, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç ¬´—Ç—è–∂–µ–ª–∞—è¬ª –æ–ø–µ—Ä–∞—Ü–∏—è:
1.  **User ‚Üí Kernel Mode**: –î–æ—Ä–æ–≥–æ–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤.
2.  **Full State Save**: –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è **–≤—Å–µ** —Ä–µ–≥–∏—Å—Ç—Ä—ã (RAX, XMM, AVX, FPU –∏ –¥—Ä.) ‚Äî —ç—Ç–æ –∫–∏–ª–æ–±–∞–π—Ç—ã –¥–∞–Ω–Ω—ã—Ö.
3.  **TLB Flush**: –°–±—Ä–æ—Å –∫—ç—à–∞ —Ç–∞–±–ª–∏—Ü—ã —Å—Ç—Ä–∞–Ω–∏—Ü (–µ—Å–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏).
4.  **Cache Pollution**: –ù–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ ¬´–≤—ã–º—ã–≤–∞—é—Ç¬ª —Å—Ç–∞—Ä—ã–µ –∏–∑ L1/L2/L3 –∫—ç—à–µ–π.
*‚è± –í—Ä–µ–º—è: ~1-10 –º–∫—Å.*

#### **User-space Context Switch (–ì–æ—Ä—É—Ç–∏–Ω—ã Go)** ‚Äî üöÄ **–î–µ—à–µ–≤–æ**
–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ Go —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
1.  **Minimal State**: –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤—Å–µ–≥–æ **3 —Ä–µ–≥–∏—Å—Ç—Ä–∞** (PC, SP, BP).
2.  **No Kernel Mode**: –ù–∏–∫–∞–∫–∏—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤ —Ä–µ–∂–∏–º —è–¥—Ä–∞.
3.  **No TLB Flush**: –í—Å–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –∂–∏–≤—É—Ç –≤ –æ–¥–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.
4.  **Cache Locality**: –†–∞–Ω—Ç–∞–π–º —Å—Ç–∞—Ä–∞–µ—Ç—Å—è —Å–æ–±–ª—é–¥–∞—Ç—å CPU Affinity.
*‚è± –í—Ä–µ–º—è: ~10-50 –Ω—Å (–≤ 100-1000 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ).*

<a name="perf-impact"></a>
### üìà –í–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ß–µ–º –±–æ–ª—å—à–µ ¬´–≥–æ—Ç–æ–≤—ã—Ö¬ª (Runnable) —Ç—Ä–µ–¥–æ–≤, —Ç–µ–º —á–∞—â–µ –û–° –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏—Ö –º–µ–Ω—è—Ç—å. –ï—Å–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä —Ç—Ä–∞—Ç–∏—Ç –Ω–∞ –Ω–∏—Ö –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —á–µ–º –Ω–∞ —Å–∞–º—É –ø–æ–ª–µ–∑–Ω—É—é —Ä–∞–±–æ—Ç—É.

![–î–≤–∞ –ø—Ä–∏–º–µ—Ä–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞](img/image_6.png)

–í–æ-–≤—Ç–æ—Ä—ã—Ö, –∫–∞–∂–¥—ã–π —Ç—Ä–µ–¥ –æ—Ç—ä–µ–¥–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—É—é —á–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –Ω–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞: —Å—Ç–µ–∫ –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–¥–∞ —á–∞—Å—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –¥–æ –ø–∞—Ä—ã –º–µ–≥–∞–±–∞–π—Ç (–≤ –Ω—ë–º —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ü–µ–ø–æ—á–∫–∏ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏ –¥—Ä.)

–¢–µ–ø–µ—Ä—å, –∑–Ω–∞—è —á—Ç–æ —Ç—Ä–µ–¥—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –¥–æ—Ä–æ–≥–∏–µ, –º—ã –ø—Ä–∏—Ö–æ–¥–∏–º –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é —Ç–æ–≥–æ, —á—Ç–æ —Ö–æ—Ç–∏–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏—Ö –∫–∞–∫ –º–æ–∂–Ω–æ –º–µ–Ω—å—à–µ. –ß–µ–º –º–µ–Ω—å—à–µ —Ç—Ä–µ–¥–æ–≤, —Ç–µ–º —Ä–µ–∂–µ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –∫–æ–Ω—Ç–µ–∫—Å—Ç, —Ç–µ–º –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏ –º—ã —Ç—Ä–∞—Ç–∏–º. –≠—Ç–æ –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –º—ã –≤ –±—É–¥—É—â–µ–º –±—É–¥–µ–º —Å—Å—ã–ª–∞—Ç—å—Å—è –æ—á–µ–Ω—å —á–∞—Å—Ç–æ.

–î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –Ω–∞–º —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, –Ω–æ –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≥–ª—É–±–∂–µ, —Ç–æ —É –º–µ–Ω—è –µ—Å—Ç—å –±–æ–ª–µ–µ¬†[–ø–æ–¥—Ä–æ–±–Ω—ã–π –ø–æ—Å—Ç](https://t.me/ntuzov/410)¬†–Ω–∞ —Ç–µ–º—É —Ç—Ä–µ–¥–æ–≤ –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

<a name="–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ"></a>
## 4. –ü—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º —Å–≤–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫: –ü—É—Ç—å –æ—Ç 1:1 –¥–æ M:N

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –º—ã ‚Äî –∏–Ω–∂–µ–Ω–µ—Ä—ã Go Team. –ù–∞—à–∞ –∑–∞–¥–∞—á–∞: –Ω–∞—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–¥ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.

```go
func main() {
    go task1() // –∑–∞–ø—É—Å–∫–∞–µ–º –∏ –∏–¥–µ–º –¥–∞–ª—å—à–µ
    go task2() // –Ω–µ –∂–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è task1
}
```

–ß—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —ç—Ç–∏–º–∏ `go`-–≤—ã–∑–æ–≤–∞–º–∏, –Ω–∞–º –Ω—É–∂–µ–Ω **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (Scheduler)**.

<a name="model-1-1"></a>
### üìã –ú–æ–¥–µ–ª—å 1:1 (–ü—Ä—è–º–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)

–°–∞–º—ã–π –Ω–∞–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥: –Ω–∞ –∫–∞–∂–¥—É—é –≥–æ—Ä—É—Ç–∏–Ω—É —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–¥–∏–Ω —Å–∏—Å—Ç–µ–º–Ω—ã–π —Ç—Ä–µ–¥.

![–ú–æ–¥–µ–ª—å 1:1 ‚Äî –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –≥–æ—Ä—É—Ç–∏–Ω—ã —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π —Ç—Ä–µ–¥](img/image_9.png)

*   **–ü–ª—é—Å**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤—Å–µ —è–¥—Ä–∞ CPU (–û–° —Å–∞–º–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç —Ç—Ä–µ–¥—ã).
*   **–ú–∏–Ω—É—Å**: **–î–æ—Ä–æ–≥–æ!** –¢—ã—Å—è—á–∞ –≥–æ—Ä—É—Ç–∏–Ω = —Ç—ã—Å—è—á–∞ —Ç—Ä–µ–¥–æ–≤ = –≥–∏–≥–∞–±–∞–π—Ç—ã –ø–∞–º—è—Ç–∏ –Ω–∞ —Å—Ç–µ–∫–∏ –∏ –æ–≥—Ä–æ–º–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.
*   **–ò—Ç–æ–≥**: –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ –º–∏–ª–ª–∏–æ–Ω–æ–≤ –∑–∞–¥–∞—á.

<a name="thread-pool"></a>
### üèä –ü—É–ª —Ç—Ä–µ–¥–æ–≤ (Thread Pool)

–í–º–µ—Å—Ç–æ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è —Ç—Ä–µ–¥–æ–≤, –±—É–¥–µ–º –∏—Ö –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ö–æ–≥–¥–∞ –≥–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–∫–æ–Ω—á–∏–ª–∞ —Ä–∞–±–æ—Ç—É, —Ç—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø—É–ª.

![–ü—É–ª —Ç—Ä–µ–¥–æ–≤: –≤–æ–∑–≤—Ä–∞—Ç —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Ç—Ä–µ–¥–∞ –≤ –æ–±—â—É—é –∫—É—á—É](img/image_11.png)

–≠—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ, –Ω–æ –Ω–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É **–∫–æ–ª–∏—á–µ—Å—Ç–≤–∞** —Ç—Ä–µ–¥–æ–≤. –ù–∞–º –≤—Å—ë –µ—â–µ –Ω—É–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏—Ö —á–∏—Å–ª–æ.

<a name="model-m-n"></a>
### üèóÔ∏è –ú–æ–¥–µ–ª—å M:N (–ú–Ω–æ–≥–æ –Ω–∞ –ú–Ω–æ–≥–æ)

–ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å —Ä–æ–∂–¥–∞–µ—Ç—Å—è –º–∞–≥–∏—è Go. –ú—ã –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç—Ä–µ–¥–æ–≤ (–æ–±—ã—á–Ω–æ –ø–æ —á–∏—Å–ª—É —è–¥–µ—Ä CPU), –∞ –º–∏–ª–ª–∏–æ–Ω—ã –≥–æ—Ä—É—Ç–∏–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –º–µ–∂–¥—É –Ω–∏–º–∏.

---

<a name="–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-gmp"></a>
## 5. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ GMP: –¢—Ä–∏ –∫–∏—Ç–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

–ß—Ç–æ–±—ã –º–æ–¥–µ–ª—å M:N —Ä–∞–±–æ—Ç–∞–ª–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –≤ Go –≤–≤–µ–ª–∏ —Ç—Ä–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏:

*   **G (Goroutine)**: –û–±—ä–µ–∫—Ç –≤ –∫—É—á–µ, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—Ç–µ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
*   **M (Machine/Thread)**: –†–µ–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫ –û–°. –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–¥ –≥–æ—Ä—É—Ç–∏–Ω—ã.
*   **P (Processor)**: ¬´–ö–æ–Ω—Ç–µ–∫—Å—Ç¬ª –∏–ª–∏ ¬´–†–µ—Å—É—Ä—Å¬ª –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ò–º–µ–Ω–Ω–æ P –≤–ª–∞–¥–µ–µ—Ç –æ—á–µ—Ä–µ–¥—è–º–∏ –≥–æ—Ä—É—Ç–∏–Ω.

> [!CAUTION]
> –ù–µ –ø—É—Ç–∞–π—Ç–µ **P (Processor)** —Å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º —è–¥—Ä–æ–º CPU. P ‚Äî —ç—Ç–æ –ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å—É—â–Ω–æ—Å—Ç—å –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.

![–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä –±–µ—Ä—ë—Ç –≥–æ—Ä—É—Ç–∏–Ω—É –∏ –∫–ª–∞–¥—ë—Ç –µ—ë –≤ –ú–∞—à–∏–Ω—É –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è](img/image_8.png)

<a name="grq"></a>
### üåç –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å (GRQ)

–ö–æ–≥–¥–∞ –≥–æ—Ä—É—Ç–∏–Ω–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–Ω—è—Ç—ã, –æ–Ω–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ **Global Run Queue**.
*   **–ü—Ä–æ–±–ª–µ–º–∞**: –£ GRQ –µ—Å—Ç—å **–º—å—é—Ç–µ–∫—Å**. –ï—Å–ª–∏ 64 —è–¥—Ä–∞ –±—É–¥—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ª–µ–∑—Ç—å –≤ –æ–¥–Ω—É –æ—á–µ—Ä–µ–¥—å, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—Å—Ç–∞–Ω–µ—Ç –≤ –æ—á–µ—Ä–µ–¥–∏ –∑–∞ –º—å—é—Ç–µ–∫—Å–æ–º.

![–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ GRQ –º—å—é—Ç–µ–∫—Å–æ–º: –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä—ã –∂–¥—É—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞](img/image_17.png)

<a name="lrq"></a>
### üè† –õ–æ–∫–∞–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ (LRQ)

–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –º—å—é—Ç–µ–∫—Å–æ–≤, –∫–∞–∂–¥–æ–º—É **P** –¥–∞–ª–∏ —Å–≤–æ—é **Local Run Queue** –Ω–∞ 256 –≥–æ—Ä—É—Ç–∏–Ω. –ö –Ω–µ–π –æ–±—Ä–∞—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ç—Ä–µ–¥, –ø–æ—ç—Ç–æ–º—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–µ –Ω—É–∂–Ω—ã.

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏ –æ—á–µ—Ä–µ–¥—è–º–∏](img/image_18.png)

---

<a name="–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏"></a>
## 6. –ú–µ—Ö–∞–Ω–∏–∑–º—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

<a name="work-stealing"></a>
### üïµÔ∏è Work Stealing (–ö—Ä–∞–∂–∞ —Ä–∞–±–æ—Ç—ã)

–ß—Ç–æ –µ—Å–ª–∏ –æ–¥–∏–Ω —Ç—Ä–µ–¥ –∑–∞–∫–æ–Ω—á–∏–ª –≤—Å–µ —Å–≤–æ–∏ –∑–∞–¥–∞—á–∏ –≤ LRQ, –∞ —É —Å–æ—Å–µ–¥–∞ –∏—Ö –µ—â–µ —Å–æ—Ç–Ω—è?
**–ê–ª–≥–æ—Ä–∏—Ç–º**: –ë–µ–∑—Ä–∞–±–æ—Ç–Ω—ã–π **P** –∑–∞–≥–ª—è–¥—ã–≤–∞–µ—Ç –∫ —Å–æ—Å–µ–¥—É –∏ –∑–∞–±–∏—Ä–∞–µ—Ç (–∫—Ä–∞–¥–µ—Ç) **–ø–æ–ª–æ–≤–∏–Ω—É** –µ–≥–æ –≥–æ—Ä—É—Ç–∏–Ω.

![Work Stealing –≤ –¥–µ–π—Å—Ç–≤–∏–∏](img/image_20.png)

<a name="handoff"></a>
### ü§ù Handoff (–ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ–ª–Ω–æ–º–æ—á–∏–π)

–ï—Å–ª–∏ –≥–æ—Ä—É—Ç–∏–Ω–∞ –¥–µ–ª–∞–µ—Ç **–±–ª–æ–∫–∏—Ä—É—é—â–∏–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `os.Open`), –æ–Ω–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤–µ—Å—å —Ç—Ä–µ–¥ `M`.
**–†–µ—à–µ–Ω–∏–µ**: –†–∞–Ω—Ç–∞–π–º –æ—Ç—Ü–µ–ø–ª—è–µ—Ç `P` –æ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ `M` –∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –µ–≥–æ –Ω–∞ –Ω–æ–≤—ã–π (–∏–ª–∏ —Å–≤–æ–±–æ–¥–Ω—ã–π –∏–∑ –ø—É–ª–∞) —Ç—Ä–µ–¥.

![Handoff: –ø–µ—Ä–µ–Ω–æ—Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –Ω–∞ –Ω–æ–≤—ã–π —Ç—Ä–µ–¥](img/image_22.png)

<a name="netpoller"></a>
### üåê Network Poller (–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π I/O)

–î–ª—è —Å–µ—Ç–µ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (TCP/UDP/HTTP) Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `epoll`/`kqueue`.
1.  –ì–æ—Ä—É—Ç–∏–Ω–∞ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ —Å–µ—Ç—å.
2.  –†–∞–Ω—Ç–∞–π–º —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –µ—ë –≤ **Netpoller** –∏ —É—Å—ã–ø–ª—è–µ—Ç.
3.  –¢—Ä–µ–¥ `M` –æ—Å—Ç–∞–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–µ–Ω –∏ –±–µ—Ä–µ—Ç –¥—Ä—É–≥—É—é –∑–∞–¥–∞—á—É.
4.  –ö–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—à–ª–∏, Netpoller –ø—Ä–æ–±—É–∂–¥–∞–µ—Ç –≥–æ—Ä—É—Ç–∏–Ω—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ—ë –≤ –æ—á–µ—Ä–µ–¥—å.

---

<a name="preemption"></a>
## 7. –í—ã—Ç–µ—Å–Ω–µ–Ω–∏–µ –∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ —Ç–∞–π–º–∏–Ω–≥–æ–≤

<a name="sysmon"></a>
### üëÅÔ∏è Sysmon (–°–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä)

–≠—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω –∫ `P`. –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ –∏:
*   –ó–∞–ø—É—Å–∫–∞–µ—Ç Netpoller (–µ—Å–ª–∏ –Ω–µ–∫–æ–º—É –±—ã–ª–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å).
*   –î–µ–ª–∞–µ—Ç **Handoff** –¥–ª—è –∑–∞–≤–∏—Å—à–∏—Ö syscall-–æ–≤ (> 10 –º—Å).
*   –ü–æ–º–µ—á–∞–µ—Ç ¬´–∂–∞–¥–Ω—ã–µ¬ª –≥–æ—Ä—É—Ç–∏–Ω—ã –¥–ª—è –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è.

<a name="forced"></a>
### üõ°Ô∏è –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏–µ (Go 1.14+)

–î–æ Go 1.14 –≥–æ—Ä—É—Ç–∏–Ω–∞ –º–æ–≥–ª–∞ ¬´–∑–∞—Ö–≤–∞—Ç–∏—Ç—å¬ª –ø–æ—Ç–æ–∫ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º —Ü–∏–∫–ª–æ–º:
```go
for { sum++ } // –ë–µ–∑ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π –≥–æ—Ä—É—Ç–∏–Ω–∞ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —É—Å—Ç—É–ø–∞–ª–∞ —Ç—Ä–µ–¥
```
–¢–µ–ø–µ—Ä—å Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –û–° (`SIGURG`), —á—Ç–æ–±—ã –ø—Ä–µ—Ä—ã–≤–∞—Ç—å —Ç–∞–∫–∏–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∫–∞–∂–¥—ã–µ 10 –º—Å.

---

<a name="debug"></a>
## 8. –ü—Ä–∞–∫—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

### üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ö–æ–º–∞–Ω–¥–∞ / –°—Å—ã–ª–∫–∞ | –ó–∞—á–µ–º –Ω—É–∂–µ–Ω |
| :--- | :--- | :--- |
| **GODEBUG** | `GODEBUG=schedtrace=1000 ./app` | –î–∞–º–ø —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É |
| **Pprof** | `net/http/pprof` | –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω –∏ –ø—Ä–æ—Ñ–∏–ª–µ–π |
| **NumGoroutine** | `runtime.NumGoroutine()` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ç–µ—á–∫–∏ (—Ä–æ—Å—Ç —á–∏—Å–ª–∞ G) |

> [!WARNING]
> **–¢–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞**: –ó–∞–ø—É—Å–∫ —Ç—ã—Å—è—á –≥–æ—Ä—É—Ç–∏–Ω, –¥–µ–ª–∞—é—â–∏—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π `CGO` –≤—ã–∑–æ–≤ –∏–ª–∏ `File I/O`. –≠—Ç–æ –ø–æ—Ä–æ–¥–∏—Ç —Ç—ã—Å—è—á–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ç—Ä–µ–¥–æ–≤ (`handoff`), –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –∏–∑-–∑–∞ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏ –∏–ª–∏ –ª–∏–º–∏—Ç–æ–≤ –û–°.

---

## üéØ –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ

–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ Go ‚Äî —ç—Ç–æ —à–µ–¥–µ–≤—Ä –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π –º—ã—Å–ª–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ—Å—Ç–∏–≥–∞—Ç—å –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –ø—Ä–æ—Å—Ç–æ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ.

![–û–±—â–∞—è —Å—Ö–µ–º–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ Go](img/image_30.png)

> [!TIP]
> –•–æ—Ç–∏—Ç–µ —É–≤–∏–¥–µ—Ç—å –≤—Å–µ —ç—Ç–æ –≤ –¥–∏–Ω–∞–º–∏–∫–µ? –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [goschedviz](https://github.com/JustSkiv/goschedviz). –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—É–∫–≤–∞–ª—å–Ω–æ ¬´—É–≤–∏–¥–µ—Ç—å¬ª –∫–∞–∫ –≥–æ—Ä—É—Ç–∏–Ω—ã –ø—Ä—ã–≥–∞—é—Ç –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞–º–∏ –∏ –æ—á–µ—Ä–µ–¥—è–º–∏.
