# üìû –°–∏—Å—Ç–µ–º–∞ –¥–æ–º–µ–Ω–Ω—ã—Ö –∏–º—ë–Ω (DNS)

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ß—Ç–æ —Ç–∞–∫–æ–µ DNS –∏ –∑–∞—á–µ–º –æ–Ω–∞ –Ω—É–∂–Ω–∞](#—á—Ç–æ-—Ç–∞–∫–æ–µ-dns-–∏-–∑–∞—á–µ–º-–æ–Ω–∞-–Ω—É–∂–Ω–∞)
2. [–ò–µ—Ä–∞—Ä—Ö–∏—è DNS](#–∏–µ—Ä–∞—Ä—Ö–∏—è-dns)
3. [–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º—ë–Ω (Resolution)](#–ø—Ä–æ—Ü–µ—Å—Å-—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è-–∏–º—ë–Ω)
4. [–¢–∏–ø—ã –∑–∞–ø–∏—Å–µ–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-dns)
5. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (DNSSEC, DoH, DoT)](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å-dnssec)

---

**DNS (Domain Name System)** ‚Äî —ç—Ç–æ "—Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –∫–Ω–∏–≥–∞" –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –û–Ω–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —á–µ–ª–æ–≤–µ–∫—É –∏–º–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `google.com`) –≤ IP-–∞–¥—Ä–µ—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–Ω–∏–º–∞—é—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä—ã.

```mermaid
graph LR
    User((–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)) -->|–•–æ—á—É –Ω–∞ google.com| DNS[DNS Server]
    DNS -->|–≠—Ç–æ –∞–¥—Ä–µ—Å 142.250.184.206| User
    User -->|–ó–∞–ø—Ä–æ—Å –∫ 142.250.184.206| Server[(Web Server)]
```

---

## 1. ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ DNS –∏ –∑–∞—á–µ–º –æ–Ω–∞ –Ω—É–∂–Ω–∞

- **–£–¥–æ–±—Å—Ç–≤–æ**: –õ—é–¥—è–º –ø—Ä–æ—â–µ –ø–æ–º–Ω–∏—Ç—å —Å–ª–æ–≤–∞, –∞ –Ω–µ —Ü–∏—Ñ—Ä—ã.
- **–ì–∏–±–∫–æ—Å—Ç—å**: –í—ã –º–æ–∂–µ—Ç–µ —Å–º–µ–Ω–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (IP), —Å–æ—Ö—Ä–∞–Ω–∏–≤ –∏–º—è —Å–∞–π—Ç–∞.
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç—å**: –ù–µ—Ç –µ–¥–∏–Ω–æ–≥–æ "–≥–ª–∞–≤–Ω–æ–≥–æ" —Å–µ—Ä–≤–µ—Ä–∞, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑–º–∞–∑–∞–Ω–∞ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É.

> [!NOTE]
> DNS —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É **UDP** –Ω–∞ –ø–æ—Ä—Ç—É **53** –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **TCP 53**.

---

## 2. üå≥ –ò–µ—Ä–∞—Ä—Ö–∏—è DNS

DNS ‚Äî —ç—Ç–æ –¥–µ—Ä–µ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ —á–∏—Ç–∞–µ—Ç—Å—è **—Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ**.

```mermaid
graph TD
    Root[". (Root)"] --> TLD_com[".com"]
    Root --> TLD_ru[".ru"]
    Root --> TLD_org[".org"]
    
    TLD_com --> Example["example.com"]
    TLD_com --> Google["google.com"]
    
    Example --> WWW["www.example.com"]
    Example --> API["api.example.com"]
```

1. **Root (.)**: –ö–æ—Ä–Ω–µ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã. –ó–Ω–∞—é—Ç, –≥–¥–µ –∏—Å–∫–∞—Ç—å TLD.
2. **TLD (Top-Level Domain)**: `.com`, `.ru`, `.net`.
3. **Second-Level Domain**: `example.com`.
4. **Subdomain**: `api.example.com`.

---

## 3. üîç –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–º—ë–Ω

–ö–æ–≥–¥–∞ –≤—ã –≤–≤–æ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ü–µ–ª–∞—è —Ü–µ–ø–æ—á–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤:

```mermaid
sequenceDiagram
    participant User as –ë—Ä–∞—É–∑–µ—Ä
    participant Resolver as –†–µ–∑–æ–ª–≤–µ—Ä (–ø—Ä–æ–≤–∞–π–¥–µ—Ä/8.8.8.8)
    participant Root as Root Server (.)
    participant TLD as TLD Server (.com)
    participant Auth as Auth Server (example.com)

    User->>Resolver: –ì–¥–µ example.com?
    Note over Resolver: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à
    Resolver->>Root: –ì–¥–µ .com?
    Root-->>Resolver: –°–ø—Ä–æ—Å–∏ —É 192.5.6.30
    Resolver->>TLD: –ì–¥–µ example.com?
    TLD-->>Resolver: –°–ø—Ä–æ—Å–∏ —É 204.13.250.6
    Resolver->>Auth: –ö–∞–∫–æ–π IP —É example.com?
    Auth-->>Resolver: IP: 93.184.216.34
    Resolver-->>User: IP: 93.184.216.34
```

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ TTL
- **TTL (Time To Live)**: –í—Ä–µ–º—è –≤ —Å–µ–∫—É–Ω–¥–∞—Ö, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ —Ä–µ–∑–æ–ª–≤–µ—Ä –º–æ–∂–µ—Ç –∑–∞–ø–æ–º–Ω–∏—Ç—å –æ—Ç–≤–µ—Ç.
- **–ó–∞—á–µ–º?** –ß—Ç–æ–±—ã –Ω–µ –Ω–∞–≥—Ä—É–∂–∞—Ç—å —Å–µ—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–ª–∏–∫–µ.

> [!TIP]
> –ï—Å–ª–∏ –≤—ã –º–µ–Ω—è–µ—Ç–µ IP —Å–µ—Ä–≤–µ—Ä–∞, —Å—Ç–∞–≤—å—Ç–µ –º–∞–ª–µ–Ω—å–∫–æ–µ TTL (–Ω–∞–ø—Ä. 300 —Å–µ–∫) –∑–∞ –¥–µ–Ω—å –¥–æ –ø–µ—Ä–µ–µ–∑–¥–∞, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—ã—Å—Ç—Ä–µ–µ —É–∑–Ω–∞–ª–∏ –æ –Ω–æ–≤–æ–º –∞–¥—Ä–µ—Å–µ.

---

## 4. ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS: –¢–∏–ø—ã –∑–∞–ø–∏—Å–µ–π

| –ó–∞–ø–∏—Å—å | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|:---|:---|:---|
| **A** | –ò–º—è -> IPv4 | `example.com -> 1.2.3.4` |
| **AAAA** | –ò–º—è -> IPv6 | `example.com -> 2a00:1450...` |
| **CNAME** | –ò–º—è -> –î—Ä—É–≥–æ–µ –∏–º—è (–ø—Å–µ–≤–¥–æ–Ω–∏–º) | `www -> example.com` |
| **MX** | –ö—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ—á—Ç—É | `mail.example.com` |
| **TXT** | –¢–µ–∫—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ | –î–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ (SPF, DKIM) |
| **NS** | –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ —ç—Ç—É –∑–æ–Ω—É | `ns1.cloudflare.com` |

---

## 5. üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### DNSSEC
–î–æ–±–∞–≤–ª—è–µ—Ç —Ü–∏—Ñ—Ä–æ–≤—É—é –ø–æ–¥–ø–∏—Å—å –∫ –æ—Ç–≤–µ—Ç–∞–º. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ IP-–∞–¥—Ä–µ—Å –Ω–µ –±—ã–ª –ø–æ–¥–º–µ–Ω–µ–Ω —Ö–∞–∫–µ—Ä–æ–º –ø–æ –ø—É—Ç–∏.

### –£—Ç–µ—á–∫–∏ –∏ –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:
–û–±—ã—á–Ω—ã–π DNS-–∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã–º —Ç–µ–∫—Å—Ç–æ–º. –ö—Ç–æ —É–≥–æ–¥–Ω–æ (–ø—Ä–æ–≤–∞–π–¥–µ—Ä, –∞–¥–º–∏–Ω –≤ –∫–∞—Ñ–µ) –≤–∏–¥–∏—Ç, –∫–∞–∫–∏–µ —Å–∞–π—Ç—ã –≤—ã –ø–æ—Å–µ—â–∞–µ—Ç–µ.
1. **DoH (DNS over HTTPS)**: –ó–∞–ø—Ä–æ—Å—ã –ø—Ä—è—á—É—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –æ–±—ã—á–Ω–æ–≥–æ HTTPS-—Ç—Ä–∞—Ñ–∏–∫–∞.
2. **DoT (DNS over TLS)**: –í—ã–¥–µ–ª–µ–Ω–Ω—ã–π –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–∞–Ω–∞–ª –¥–ª—è DNS.

> [!IMPORTANT]
> –î–ª—è –±—ç–∫–µ–Ω–¥-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ DNS ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–∞–π—Ç, –Ω–æ –∏ —Å–≤—è–∑—å –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏ (Service Discovery –≤ Kubernetes —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –±–∞–∑–µ DNS).

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

- DNS –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∏–º–µ–Ω–∞ –≤ IP.
- –ò–µ—Ä–∞—Ä—Ö–∏—è: `Root -> TLD -> SLD -> Subdomain`.
- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Ä–µ–∑–æ–ª–≤–µ—Ä –¥–µ–ª–∞–µ—Ç –≤—Å—é –≥—Ä—è–∑–Ω—É—é —Ä–∞–±–æ—Ç—É –∑–∞ –Ω–∞—Å.
- **TTL** –≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ, –∫–∞–∫ –±—ã—Å—Ç—Ä–æ –º–∏—Ä —É–≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ.
- **DNSSEC** –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç –ø–æ–¥–¥–µ–ª–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤.
