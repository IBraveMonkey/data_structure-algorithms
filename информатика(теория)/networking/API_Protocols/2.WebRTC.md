# üìû WebRTC: –û–±—â–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ß—Ç–æ —Ç–∞–∫–æ–µ WebRTC?](#—á—Ç–æ-—Ç–∞–∫–æ–µ-webrtc)
2. [Peer-to-Peer (P2P)](#peer-to-peer-p2p)
3. [–ö–∞–∫ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–≤—è–∑—å (Signaling)](#—Å–∏–≥–Ω–∞–ª–∏–Ω–≥)
4. [STUN –∏ TURN —Å–µ—Ä–≤–µ—Ä—ã](#stun-–∏-turn)

---

## ‚ùì –ß—Ç–æ —Ç–∞–∫–æ–µ WebRTC?

**WebRTC (Web Real-Time Communication)** ‚Äî —ç—Ç–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—Ä–∞—É–∑–µ—Ä–∞–º –∏ –º–æ–±–∏–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∞—É–¥–∏–æ, –≤–∏–¥–µ–æ –∏ –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –¥—Ä—É–≥ –¥—Ä—É–≥—É –±–µ–∑ —É—á–∞—Å—Ç–∏—è —Å–µ—Ä–≤–µ—Ä–∞. üé•üí¨

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ Zoom (web-–≤–µ—Ä—Å–∏—è), Discord, Google Meet –∏ –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∏–≥—Ä–∞—Ö.

---

## ü§ù Peer-to-Peer (P2P)

–í –æ–±—ã—á–Ω–æ–π —Å–µ—Ç–∏ –¥–∞–Ω–Ω—ã–µ –∏–¥—É—Ç: `–ö–ª–∏–µ–Ω—Ç A -> –°–µ—Ä–≤–µ—Ä -> –ö–ª–∏–µ–Ω—Ç B`.
–í WebRTC –¥–∞–Ω–Ω—ã–µ –∏–¥—É—Ç: **`–ö–ª–∏–µ–Ω—Ç A -> –ö–ª–∏–µ–Ω—Ç B`**.

–≠—Ç–æ —Å–Ω–∏–∂–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏ —É–±–∏—Ä–∞–µ—Ç –∑–∞–¥–µ—Ä–∂–∫—É (–ø–∏–Ω–≥), —Ç–∞–∫ –∫–∞–∫ –ø—É—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ—Ä–æ—á–µ.

---

## üó∫Ô∏è –ö–∞–∫ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å–≤—è–∑—å (Signaling)

–•–æ—Ç—è –¥–∞–Ω–Ω—ã–µ –∏–¥—É—Ç –Ω–∞–ø—Ä—è–º—É—é, –∫–ª–∏–µ–Ω—Ç–∞–º –Ω—É–∂–Ω–æ –∫–∞–∫-—Ç–æ "–Ω–∞–π—Ç–∏" –¥—Ä—É–≥ –¥—Ä—É–≥–∞. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–µ–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π —ç—Ç–∞–ø ‚Äî **–°–∏–≥–Ω–∞–ª–∏–Ω–≥**.

```mermaid
sequenceDiagram
    participant A as –ö–ª–∏–µ–Ω—Ç A
    participant S as Signaling Server
    participant B as –ö–ª–∏–µ–Ω—Ç B
    
    A->>S: –ü—Ä–∏–≤–µ—Ç, —è —Ö–æ—á—É –ø–æ–∑–≤–æ–Ω–∏—Ç—å B! (Offer)
    S->>B: –ü—Ä–∏–≤–µ—Ç, A —Ö–æ—á–µ—Ç —Ç–µ–±–µ –ø–æ–∑–≤–æ–Ω–∏—Ç—å! (Offer)
    B->>S: –û–∫, —è —Å–æ–≥–ª–∞—Å–µ–Ω! (Answer)
    S->>A: B —Å–æ–≥–ª–∞—Å–µ–Ω, –≤–æ—Ç –µ–≥–æ –¥–∞–Ω–Ω—ã–µ! (Answer)
    Note over A,B: –¢–µ–ø–µ—Ä—å –æ–Ω–∏ —Å–æ–µ–¥–∏–Ω—è—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
    A-)B: –í–∏–¥–µ–æ-–ø–æ—Ç–æ–∫ (P2P)
```

---

## üß± –ü—Ä–µ–≥—Ä–∞–¥—ã: STUN –∏ TURN

–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –∑–∞ NAT (–¥–æ–º–∞—à–Ω–∏–º —Ä–æ—É—Ç–µ—Ä–æ–º). –û–Ω–∏ –Ω–µ –∑–Ω–∞—é—Ç —Å–≤–æ–µ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ IP –∞–¥—Ä–µ—Å–∞.

1.  **STUN —Å–µ—Ä–≤–µ—Ä**: –ü–æ–º–æ–≥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—É —É–∑–Ω–∞—Ç—å —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π IP. "–ö–∞–∫ –º–µ–Ω—è –≤–∏–¥—è—Ç —Å–Ω–∞—Ä—É–∂–∏?". üåç
2.  **TURN —Å–µ—Ä–≤–µ—Ä**: –ï—Å–ª–∏ NAT —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π –∏ –ø—Ä—è–º–æ–µ P2P —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ, –¥–∞–Ω–Ω—ã–µ –∏–¥—É—Ç —á–µ—Ä–µ–∑ TURN –∫–∞–∫ —á–µ—Ä–µ–∑ "–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞". –≠—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–≤—è–∑—å.

---

> [!IMPORTANT]
> WebRTC —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É **UDP**, –∞ –Ω–µ TCP. –≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –µ—Å–ª–∏ –ø–∞—Ä–∞ –∫–∞–¥—Ä–æ–≤ –≤–∏–¥–µ–æ –ø–æ—Ç–µ—Ä—è–µ—Ç—Å—è ‚Äî –Ω–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ, –∑–∞—Ç–æ —Å–≤—è–∑—å –±—É–¥–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π, –±–µ–∑ "–∑–∞–∏–∫–∞–Ω–∏–π" –ø—Ä–∏ –æ–∂–∏–¥–∞–Ω–∏–∏ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤. ‚ö°
