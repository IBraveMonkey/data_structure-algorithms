# üåê Networking & Sockets

In Linux, network communication is implemented through the socket mechanism, which seamlessly integrates into the "everything is a file" philosophy.

---

## 1. üîå What is a Socket?

A **Socket** is a software interface for exchanging data between processes. Sockets can enable communication between processes on the same machine (Unix Domain Sockets) or on different machines across a network (TCP/IP).

### üè∑ Socket as a Descriptor
When you establish a network connection, the kernel assigns you a **Socket Descriptor**. This is a File Descriptor (FD) just like the one used for regular files, but with unique characteristics:
- Unlike a file on a disk, you cannot apply `lseek` (rewind) to a socket. It is a continuous data stream.
- A socket is linked to the kernel's network stack rather than to physical data blocks on a disk.

> [!TIP]
> Because a socket is treated as an FD, you can use standard system calls like `read()` and `write()` with it. To a program, there is "almost" no difference between writing to a file and writing to a network channel.

---

## üèó How it Works (The Telephone Analogy)

Creating a socket is similar to setting up a telephone system in an office:
1.  **socket()**: You are given a physical telephone handset and assigned an internal extension number (FD).
2.  **bind()**: You associate that telephone with a public phone number (IP and Port) so that others can call you.
3.  **listen()**: You put the phone in "wait for call" mode.
4.  **accept()**: You pick up the receiver when the phone starts ringing.
5.  **connect()**: You actively dial someone else's number.

---

## 2. üß± iptables & Netfilter

These are tools used to manage network packets within the kernel space.

- **Netfilter**: A framework within the kernel that intercepts and processes packets.
- **iptables**: A command-line utility used to configure rules for Netfilter (allowing, dropping, or redirecting packets).

### Main iptables Tables:
| Table | Purpose |
|:---|:---|
| **Filter** | The primary table for packet filtering (e.g., ACCEPT/DROP rules). |
| **NAT** | Used for Network Address Translation (e.g., IP Forwarding). |
| **Mangle** | Used for specialized packet header modifications. |

---

## üõ† System Commands
- `ss -tulpn`: Displays all active sockets, ports, and their associated processes (the modern replacement for the legacy `netstat`).
- `ip addr`: Displays the status and addresses of network interfaces.
- `tcpdump`: A powerful tool for capturing and analyzing network traffic in real-time.
