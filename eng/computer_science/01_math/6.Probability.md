# ðŸŽ² Probability

## ðŸ“‘ Table of Contents
1. [Fundamentals](#1-fundamentals)
2. [Dependent and Independent Events](#2-dependent-and-independent-events)
3. [Expected Value](#3-expected-value)
4. [Monte Carlo Simulation](#4-monte-carlo-simulation)

---

## 1. ðŸ§± Fundamentals

**Probability** is a value between 0 and 1 that represents how likely an event is to occur.

$$P(A) = \frac{\text{Number of Desired Outcomes}}{\text{Total Possible Outcomes}}$$

- **P = 0**: The event is impossible.
- **P = 0.5**: There is a 50% chance (equally likely to occur or not).
- **P = 1**: The event is certain to occur.

Probabilities can also be expressed as percentages (e.g., $P = 0.5$ is a $50\%$ chance).

### Example: Rolling a Die

```go
// Probability of rolling a 6
// Desired outcomes: 1 (only the face with six)
// Total possible outcomes: 6 (digits 1 through 6)
// P = 1/6 â‰ˆ 0.167 â‰ˆ 16.7%

func rollDice() int {
    // Seed and rand initialization required in real code
    return rand.Intn(6) + 1 // Generates a random number from 1 to 6
}
```

---

## 2. ðŸ”— Dependent and Independent Events

### Independent Events

One event **does not influence** the outcome of another.

**Formula**: $P(A \text{ and } B) = P(A) \times P(B)$

**Example**: Flipping a coin twice.
- The probability of getting "Heads" twice in a row: $\frac{1}{2} \times \frac{1}{2} = \frac{1}{4} = 0.25$.

```go
func flipCoin() string {
    if rand.Intn(2) == 0 {
        return "Heads"
    }
    return "Tails"
}

func main() {
    headsCount := 0
    trials := 10000
    
    for i := 0; i < trials; i++ {
        if flipCoin() == "Heads" && flipCoin() == "Heads" {
            headsCount++
        }
    }
    
    probability := float64(headsCount) / float64(trials)
    fmt.Printf("Estimated P(Two Heads) â‰ˆ %.3f (Expected 0.250)\n", probability)
}
```

---

### Dependent Events

The occurrence of one event **does influence** the probability of another.

**Example**: Drawing 2 cards from a deck **without replacement**.
- Probability of drawing 2 Aces:
  - First Ace: $\frac{4}{52}$
  - Second Ace (assuming the first was an Ace): $\frac{3}{51}$ (left with 3 Aces in a 51-card deck)
  - Result: $P = \frac{4}{52} \times \frac{3}{51} \approx 0.0045$.

```go
func drawTwoAces() bool {
    deck := make([]string, 52)
    for i := 0; i < 4; i++ {
        deck[i] = "Ace"
    }
    for i := 4; i < 52; i++ {
        deck[i] = "Other"
    }
    
    // Shuffle the deck
    rand.Shuffle(len(deck), func(i, j int) {
        deck[i], deck[j] = deck[j], deck[i]
    })
    
    // Draw the top two cards
    return deck[0] == "Ace" && deck[1] == "Ace"
}

func main() {
    successes := 0
    trials := 100000
    
    for i := 0; i < trials; i++ {
        if drawTwoAces() {
            successes++
        }
    }
    
    probability := float64(successes) / float64(trials)
    fmt.Printf("Estimated P(Two Aces) â‰ˆ %.4f (Expected 0.0045)\n", probability)
}
```

---

## 3. ðŸ“ˆ Expected Value

The **Expected Value (EV)** is the long-term average result if an experiment is repeated many times.

$$E[X] = \sum (x_i \cdot P(x_i))$$

### Example: Rolling a Die

What is the average result of a single die roll?

$$E[X] = 1 \cdot \frac{1}{6} + 2 \cdot \frac{1}{6} + 3 \cdot \frac{1}{6} + 4 \cdot \frac{1}{6} + 5 \cdot \frac{1}{6} + 6 \cdot \frac{1}{6} = \frac{21}{6} = 3.5$$

```go
func testExpectedValue() {
    sum := 0
    trials := 100000
    
    for i := 0; i < trials; i++ {
        sum += rand.Intn(6) + 1
    }
    
    average := float64(sum) / float64(trials)
    fmt.Printf("Average value: %.2f (Expected 3.50)\n", average)
}
```

---

### Practical Application: Risk Assessment

**Example**: Should you buy a lottery ticket for \$100?
- Jackpot of \$1,000,000 with a probability of $1/100,000$.
- Secondary prize of \$10,000 with a probability of $1/10,000$.
- Otherwise, \$0.

$$E[\text{Winnings}] = 1{,}000{,}000 \cdot \frac{1}{100{,}000} + 10{,}000 \cdot \frac{1}{10{,}000} = 10 + 1 = \$11$$

Since you pay \$100 to "buy" an expected value of **\$11**, this is mathematically a losing proposition! ðŸ“‰

---

## 4. ðŸŽ¯ Monte Carlo Simulation

A **Monte Carlo Method** involves using repeated random sampling to solve mathematical problems that might be deterministic in principle.

### Example: Estimating the Value of Ï€

**Idea**: Randomly throw "darts" into a 1Ã—1 square. The ratio of points that land inside a quarter-circle to the total number of points approximates $\pi/4$.

$$\frac{\text{Points in Circle}}{\text{Total Points}} \approx \frac{\pi}{4}$$

```go
func estimatePi(trials int) float64 {
    insideCircle := 0
    
    for i := 0; i < trials; i++ {
        // Random (x, y) coordinates within the square [0, 1] Ã— [0, 1]
        x := rand.Float64()
        y := rand.Float64()
        
        // Check if the point is within the circle unit border: xÂ² + yÂ² â‰¤ 1
        if x*x+y*y <= 1.0 {
            insideCircle++
        }
    }
    
    // Ï€ â‰ˆ 4 * (ratio of points inside the circle)
    return 4.0 * float64(insideCircle) / float64(trials)
}

func main() {
    trials := 1000000
    pi := estimatePi(trials)
    fmt.Printf("Estimated Ï€ â‰ˆ %.5f (Actual Ï€ â‰ˆ 3.14159)\n", pi)
}
```

**Common uses for Monte Carlo methods:**
- Physics (particle simulation).
- Finance (calculating Value at Risk).
- Machine Learning.
- Game AI (simulating thousands of future moves).

---

### Example: Game Simulation

**Problem**: What is the probability of winning if you need to roll a total of 7 or 11 with two dice?

```go
func rollTwoDice() int {
    return rand.Intn(6) + 1 + rand.Intn(6) + 1
}

func winGame() bool {
    sum := rollTwoDice()
    return sum == 7 || sum == 11
}

func simulateGame(trials int) float64 {
    wins := 0
    for i := 0; i < trials; i++ {
        if winGame() {
            wins++
        }
    }
    return float64(wins) / float64(trials)
}

func main() {
    probability := simulateGame(100000)
    // Theoretical: 8 combinations out of 36 give 7 or 11 (8/36 â‰ˆ 0.222)
    fmt.Printf("Estimated P(Win) â‰ˆ %.3f\n", probability)
}
```

---

## ðŸ’¡ Summary

| Concept | Key Logic | Practical Use Case |
|:---|:---|:---|
| **Probability** | Desired / Total | Risk analysis, Statistics |
| **Independent** | $P(A \cap B) = P(A) \times P(B)$ | Concurrent events |
| **Expected Value** | Long-term average | Business ROI, Gambling checks |
| **Monte Carlo** | High-volume simulation | Numerical solutions |

> [!TIP]
> Use simulations to **verify** theoretical results or to model scenarios where the underlying mathematics is too complex for a direct formula!
