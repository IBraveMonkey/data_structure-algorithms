# üêù –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ú–æ–Ω–æ–ª–∏—Ç vs –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã](#1-–º–æ–Ω–æ–ª–∏—Ç-vs-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã)
2. [–ü–ª—é—Å—ã –∏ –ú–∏–Ω—É—Å—ã](#2-–ø–ª—é—Å—ã-–∏-–º–∏–Ω—É—Å—ã)
3. [–ì–ª–∞–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#3-–≥–ª–∞–≤–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)

---

## 1. üÜö –ú–æ–Ω–æ–ª–∏—Ç vs –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

### üè∞ –ú–æ–Ω–æ–ª–∏—Ç

–û–¥–Ω–æ –±–æ–ª—å—à–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≥–¥–µ –≤—Å–µ –≤–Ω—É—Ç—Ä–∏: –∏ —Ä–∞–±–æ—Ç–∞ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∏ –æ–ø–ª–∞—Ç–∞, –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º.

- **–í—Å–µ –≤ –æ–¥–Ω–æ–π –±–æ—á–∫–µ**: –ï—Å–ª–∏ –ø–∞–¥–∞–µ—Ç –º–æ–¥—É–ª—å –æ–ø–ª–∞—Ç—ã ‚Äî –ø–∞–¥–∞–µ—Ç –≤–µ—Å—å —Å–∞–π—Ç.
- **–°–ª–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å**: –ß—Ç–æ–±—ã –ø–æ–º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å –∏ –¥–∏–ø–ª–æ–∏—Ç—å –≤—Å–µ–≥–æ –≥–∏–≥–∞–Ω—Ç–∞.

### üêù –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

–ú–Ω–æ–≥–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—â–∞—é—Ç—Å—è –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º –ø–æ —Å–µ—Ç–∏ (HTTP/gRPC/Queue).

- **–ò–∑–æ–ª—è—Ü–∏—è**: –ï—Å–ª–∏ —É–ø–∞–ª —Å–µ—Ä–≤–∏—Å "–û–ø–ª–∞—Ç—ã", –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤—Å–µ –µ—â–µ –º–æ–≥—É—Ç —Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤.
- **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**: –ö–æ–º–∞–Ω–¥–∞ "–ü–æ–∏—Å–∫–∞" –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–≤–æ–π —Å–µ—Ä–≤–∏—Å —Ö–æ—Ç—å 10 —Ä–∞–∑ –≤ –¥–µ–Ω—å, –Ω–µ –º–µ—à–∞—è –∫–æ–º–∞–Ω–¥–µ "–û–ø–ª–∞—Ç—ã".

```mermaid
graph TD
    subgraph Monolith [–ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞]
        App[App: UI + Auth + Billing + Catalog] --> DB[(–û–¥–Ω–∞ –æ–≥—Ä–æ–º–Ω–∞—è –ë–î)]
    end

    subgraph Microservices [–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞]
        UI[UI / Gateway]
        UI --> Auth[Auth Service]
        UI --> Billing[Billing Service]
        UI --> Catalog[Catalog Service]

        Auth --> DB1[(Auth DB)]
        Billing --> DB2[(Billing DB)]
        Catalog --> DB3[(Catalog DB)]
    end
```

---

## 2. ‚öñÔ∏è –ü–ª—é—Å—ã –∏ –ú–∏–Ω—É—Å—ã

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞       | üè∞ –ú–æ–Ω–æ–ª–∏—Ç                            | üêù –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã                           |
| :------------------- | :------------------------------------ | :---------------------------------------- |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Å—Ç–∞—Ä—Ç–∞** | ‚úÖ –ù–∏–∑–∫–∞—è (–ø—Ä–æ—Å—Ç–æ –ø–∏—Å–∞—Ç—å –∫–æ–¥)         | ‚ùå –í—ã—Å–æ–∫–∞—è (–Ω—É–∂–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)         |
| **–î–µ–ø–ª–æ–π**           | ‚ùå –î–æ–ª–≥–æ –∏ —Å—Ç—Ä–∞—à–Ω–æ                    | ‚úÖ –ë—ã—Å—Ç—Ä–æ –∏ —á–∞—Å—Ç–æ                         |
| **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**       | ‚ùå –û–¥–Ω–∞ –æ—à–∏–±–∫–∞ –≤–∞–ª–∏—Ç –≤—Å—ë              | ‚úÖ –ß–∞—Å—Ç–∏—á–Ω—ã–π –æ—Ç–∫–∞–∑ (Graceful Degradation) |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**  | ‚ùå –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≤—Å—ë —Ü–µ–ª–∏–∫–æ–º         | ‚úÖ –¢–æ—á–µ—á–Ω–æ (—Ç–æ–ª—å–∫–æ –Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å)    |
| **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**       | ‚ùå –û–¥–∏–Ω —è–∑—ã–∫ –Ω–∞ –≤—Å–µ—Ö (Java/Go/–∏ —Ç.–¥.) | ‚úÖ –•–æ—Ç—å 10 —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–æ–≤ (Polyglot)       |

---

## 3. üí£ –ì–ª–∞–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

> [!CAUTION]
> **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç** ‚Äî —ç—Ç–æ —Ö—É–¥—à–µ–µ –∏–∑ –¥–≤—É—Ö –º–∏—Ä–æ–≤.
> –≠—Ç–æ –∫–æ–≥–¥–∞ –≤—ã —Ä–∞–∑–±–∏–ª–∏ –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–∏—Å—ã, –Ω–æ –æ–Ω–∏ –¢–ê–ö —Å–∏–ª—å–Ω–æ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞, —á—Ç–æ –ø–∞–¥–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –≤—Å–µ —Ä–∞–≤–Ω–æ –≤–∞–ª–∏—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ. –ê –∑–∞–¥–µ—Ä–∂–∫–∏ —Å–µ—Ç–∏ –ø—Ä–∏ —ç—Ç–æ–º –æ—Å—Ç–∞–ª–∏—Å—å.

### üåê –°–µ—Ç—å –Ω–µ–Ω–∞–¥–µ–∂–Ω–∞

–í –º–æ–Ω–æ–ª–∏—Ç–µ –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ `getUser()` ‚Äî —ç—Ç–æ –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥—ã –∏ 100% —É—Å–ø–µ—Ö.
–í –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞—Ö `http.Get("/user")` ‚Äî —ç—Ç–æ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã, –∏ —Å–µ—Ç—å –º–æ–∂–µ—Ç –º–æ—Ä–≥–Ω—É—Ç—å, —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω.

**–ù—É–∂–Ω–æ –¥—É–º–∞—Ç—å –æ:**

- **Retries**: –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏.
- **Timeouts**: –ù–µ –∂–¥–∞—Ç—å –≤–µ—á–Ω–æ.
- **Circuit Breaker**: –ï—Å–ª–∏ —Å–µ—Ä–≤–∏—Å —É–º–µ—Ä, –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –µ–≥–æ –¥–æ–ª–±–∏—Ç—å.

### üìâ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (Consistency)

–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –ª–µ–∂–∞—Ç –≤ —Ä–∞–∑–Ω—ã—Ö –±–∞–∑–∞—Ö? (User –≤ Postgres, Order –≤ Mongo).

- –ù–µ–ª—å–∑—è —Å–¥–µ–ª–∞—Ç—å `ROLLBACK` —Å—Ä–∞–∑—É –≤–µ–∑–¥–µ.
- –ù—É–∂–Ω—ã –ø–∞—Ç—Ç–µ—Ä–Ω—ã **Saga** –∏–ª–∏ **Two-Phase Commit (2PC)**.

### üïµÔ∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏ (Tracing)

–ó–∞–ø—Ä–æ—Å –ø—Ä–æ—à–µ–ª —á–µ—Ä–µ–∑ 5 —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –≥–¥–µ-—Ç–æ —É–ø–∞–ª. –ì–¥–µ?

- –ù—É–∂–µ–Ω **Distributed Tracing** (Jaeger, Zipkin), —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞ —Ü–µ–ª–∏–∫–æ–º.

---

## üí° –ò—Ç–æ–≥

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è **–±–æ–ª—å—à–∏—Ö** –∫–æ–º–∞–Ω–¥ –∏ –ø—Ä–æ–µ–∫—Ç–æ–≤. –î–ª—è —Å—Ç–∞—Ä—Ç–∞–ø–∞ –∏–∑ 3 —á–µ–ª–æ–≤–µ–∫ –º–æ–Ω–æ–ª–∏—Ç –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ª—É—á—à–µ.
