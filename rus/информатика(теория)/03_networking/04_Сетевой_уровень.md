# üìç OSI L3: –°–µ—Ç–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å (Network)

## üìë –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ü—Ä–æ—Ç–æ–∫–æ–ª IP (v4 –∏ v6)](#–≤–µ—Ä—Å–∏–∏-–ø—Ä–æ—Ç–æ–∫–æ–ª–∞-–∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞-ipv4-–∏-ipv6)
2. [–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–∞–∫–µ—Ç–æ–≤](#–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è-–∫–∞–∫-–ø–∞–∫–µ—Ç—ã-–Ω–∞—Ö–æ–¥—è—Ç-–ø—É—Ç—å)
3. [NAT: –ñ–∏–∑–Ω—å —Å –Ω–µ—Ö–≤–∞—Ç–∫–æ–π IP](#—Ç—Ä–∞–Ω—Å–ª—è—Ü–∏—è-—Å–µ—Ç–µ–≤—ã—Ö-–∞–¥—Ä–µ—Å–æ–≤-nat)
4. [–†–æ—É—Ç–µ—Ä vs –ö–æ–º–º—É—Ç–∞—Ç–æ—Ä](#—Ä–æ–ª—å-—Ä–æ—É—Ç–µ—Ä–æ–≤)

---

–°–µ—Ç–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å ‚Äî —ç—Ç–æ "–ø–æ—á—Ç–∞" –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞. –ï–≥–æ –∑–∞–¥–∞—á–∞: –¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç –∏–∑ —Ç–æ—á–∫–∏ –ê (–ú–æ—Å–∫–≤–∞) –≤ —Ç–æ—á–∫—É –ë (–õ–æ–Ω–¥–æ–Ω), –¥–∞–∂–µ –µ—Å–ª–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ —Å–æ—Ç–Ω–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–µ—Ç–µ–π.

---

## 1. üì¨ –ü—Ä–æ—Ç–æ–∫–æ–ª IP ‚Äî –ù–∞—à –≥–ª–∞–≤–Ω—ã–π –∞–¥—Ä–µ—Å

–ï—Å–ª–∏ MAC-–∞–¥—Ä–µ—Å ‚Äî —ç—Ç–æ –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞, —Ç–æ IP-–∞–¥—Ä–µ—Å ‚Äî —ç—Ç–æ –µ–≥–æ —Ç–µ–∫—É—â–∏–π –ø–æ—á—Ç–æ–≤—ã–π –∞–¥—Ä–µ—Å.

### IPv4 vs IPv6
- **IPv4**: –ó–Ω–∞–∫–æ–º—ã–π –≤—Å–µ–º `192.168.1.1`. –ú–µ—Å—Ç–∞ –≤ –º–∏—Ä–µ –ø–æ—á—Ç–∏ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å (–≤—Å–µ–≥–æ 4 –º–ª—Ä–¥ –∞–¥—Ä–µ—Å–æ–≤).
- **IPv6**: –ú–æ–Ω—Å—Ç—Ä –≤—Ä–æ–¥–µ `2001:0db8:85a3...`. –ê–¥—Ä–µ—Å–æ–≤ —Ö–≤–∞—Ç–∏—Ç –¥–∞–∂–µ –¥–ª—è –∫–∞–∂–¥–æ–π –ø—ã–ª–∏–Ω–∫–∏ –Ω–∞ –ó–µ–º–ª–µ.

> [!NOTE]
> **NAT (Network Address Translation)**: "–ö–æ—Å—Ç—ã–ª—å", –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ü–µ–ª–æ–º—É –æ—Ñ–∏—Å—É –≤—ã—Ö–æ–¥–∏—Ç—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –ø–æ–¥ –æ–¥–Ω–∏–º –ø—É–±–ª–∏—á–Ω—ã–º IP.

---

## 2. üó∫Ô∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è?

–ü–∞–∫–µ—Ç –Ω–µ –∑–Ω–∞–µ—Ç –≤—Å–µ–≥–æ –ø—É—Ç–∏. –û–Ω –ø—Ä–æ—Å—Ç–æ –ø—Ä—ã–≥–∞–µ—Ç (hop) –æ—Ç –æ–¥–Ω–æ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞ –∫ –¥—Ä—É–≥–æ–º—É.

```mermaid
graph LR
    User[–í—ã] --> R1[–†–æ—É—Ç–µ—Ä –î–æ–º–∞]
    R1 --> R2[–†–æ—É—Ç–µ—Ä –ü—Ä–æ–≤–∞–π–¥–µ—Ä–∞]
    R2 --> R3[–ì–ª–æ–±–∞–ª—å–Ω—ã–π –†–æ—É—Ç–µ—Ä]
    R3 --> Server[Google Server]
```

- **TTL (Time To Live)**: –ü–∞–∫–µ—Ç –Ω–µ –º–æ–∂–µ—Ç –≤–µ—á–Ω–æ –∂–∏—Ç—å –≤ —Å–µ—Ç–∏. –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –ø—Ä—ã–∂–∫–∞ TTL —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è. –ï—Å–ª–∏ –æ–Ω —Å—Ç–∞–ª 0 ‚Äî –ø–∞–∫–µ—Ç —É–¥–∞–ª—è–µ—Ç—Å—è. –≠—Ç–æ —Å–ø–∞—Å–∞–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –æ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –ø–µ—Ç–µ–ª—å —Ç—Ä–∞—Ñ–∏–∫–∞.

---

## 3. üö¶ –†–æ—É—Ç–µ—Ä (–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä)

–≠—Ç–æ –∫–æ–º–ø—å—é—Ç–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —á—Ç–µ–Ω–∏–∏ IP-–∞–¥—Ä–µ—Å–æ–≤ –∏ –ø–µ—Ä–µ—Å—ã–ª–∫–µ –ø–∞–∫–µ—Ç–æ–≤ –≤ –Ω—É–∂–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É.

| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | –£—Ä–æ–≤–µ–Ω—å | –ê–¥—Ä–µ—Å | –û–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è |
|:---|:---:|:---:|:---|
| **–ö–æ–º–º—É—Ç–∞—Ç–æ—Ä (Switch)** | L2 | MAC | –õ–æ–∫–∞–ª—å–Ω–∞—è —Å–µ—Ç—å |
| **–†–æ—É—Ç–µ—Ä (Router)** | L3 | IP | –í–µ—Å—å –º–∏—Ä |

---

## 4. üõ†Ô∏è –ü—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è –±—ç–∫–µ–Ω–¥–∞

1. **Traceroute**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å—é —Ü–µ–ø–æ—á–∫—É —Ä–æ—É—Ç–µ—Ä–æ–≤ –¥–æ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –ï—Å–ª–∏ "–ª–∞–≥–∞–µ—Ç" ‚Äî —Å–º–æ—Ç—Ä–∏–º, –Ω–∞ –∫–∞–∫–æ–º —É–∑–ª–µ —Ä–∞—Å—Ç–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∞.
2. **VPC & Subnets**: –í –æ–±–ª–∞–∫–∞—Ö –≤—ã —Å–∞–º–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ —Ç–∞–±–ª–∏—Ü—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ (Route Tables), —Ä–µ—à–∞—è, –∫–∞–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã —Å–º–æ—Ç—Ä—è—Ç –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, –∞ –∫–∞–∫–∏–µ ‚Äî –Ω–µ—Ç.
3. **Public vs Private IP**: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –≤—ã—Å—Ç–∞–≤–ª—è–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Ä—É–∂—É —Å –ø—É–±–ª–∏—á–Ω—ã–º IP.

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

- **L3** —Å—Ç–∏—Ä–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏ (Ethernet, Wi-Fi, 5G).
- **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è** ‚Äî —ç—Ç–æ –≤—ã–±–æ—Ä —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ –¥–ª—è –ø–∞–∫–µ—Ç–∞.
- **NAT** ‚Äî —Å–ø–æ—Å–æ–± —Å–ø—Ä—è—Ç–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é —Å–µ—Ç—å –∑–∞ –æ–¥–Ω–∏–º –∞–¥—Ä–µ—Å–æ–º.
