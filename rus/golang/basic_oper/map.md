### üó∫Ô∏è –ú–∞–ø—ã: –ü–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä (Map Deep Dive)

–ú–∞–ø—ã –≤ Go ‚Äî —ç—Ç–æ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ã. –û—Å–Ω–æ–≤–Ω—ã–µ "–ø–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏" —Å–≤—è–∑–∞–Ω—ã —Å –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ (nil) –º–∞–ø–∞–º–∏ –∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º.

---

### üö¶ –û–ø–µ—Ä–∞—Ü–∏–∏ —Å Nil –º–∞–ø–æ–π (Nil Map Operations)

| –û–ø–µ—Ä–∞—Ü–∏—è | –†–µ–∑—É–ª—å—Ç–∞—Ç |
| :--- | :--- |
| **–ß—Ç–µ–Ω–∏–µ** (`v := m[k]`) | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç zero-value) |
| **–£–¥–∞–ª–µ–Ω–∏–µ** (`delete(m, k)`) | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ (–Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç) |
| **–ò—Ç–µ—Ä–∞—Ü–∏—è** (`range m`) | ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ (0 –∏—Ç–µ—Ä–∞—Ü–∏–π) |
| **–ó–∞–ø–∏—Å—å** (`m[k] = v`) | üî• **PANIC** |

---

### üíª –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ (Original Examples)

```go
package main

import (
	"fmt"
)

// –ß–∏—Ç–∞–µ—Ç –∏–∑ nil-–º–∞–ø—ã -> –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç zero-value)
func readFromNilMap() {
	var data map[int]int
	_ = data[100]
}

// –£–¥–∞–ª—è–µ—Ç –∏–∑ nil-–º–∞–ø—ã -> –±–µ–∑–æ–ø–∞—Å–Ω–æ (–Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç)
func deleteFromNilMap() {
	var data map[int]int
	delete(data, 100)
}

// –ü–∏—à–µ—Ç –≤ nil-–º–∞–ø—É -> PANIC
func writeToNilMap() {
	var data map[int]int
	data[100] = 100
}

// –ò—Ç–µ—Ä–∏—Ä—É–µ—Ç –ø–æ nil-–º–∞–ø–µ -> –±–µ–∑–æ–ø–∞—Å–Ω–æ (0 –∏—Ç–µ—Ä–∞—Ü–∏–π)
func rangeByNilMap() {
	var data map[int]int
	for range data {
	}
}

// –ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª—é—á -> OK
func rewriteExistingKey() {
	data := make(map[int]int)
	data[100] = 500
	data[100] = 1000
}

// –£–¥–∞–ª—è–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª—é—á -> –±–µ–∑–æ–ø–∞—Å–Ω–æ
func deleteNonExistingKey() {
	data := make(map[int]int)
	delete(data, 100)
}
```

---

> [!IMPORTANT]
> –ú–∞–ø–∞ **–Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞**. –î–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sync.Mutex` –∏–ª–∏ `sync.Map`. –ü–æ–ø—ã—Ç–∫–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤—ã–∑–æ–≤–µ—Ç `fatal error: concurrent map writes`.
