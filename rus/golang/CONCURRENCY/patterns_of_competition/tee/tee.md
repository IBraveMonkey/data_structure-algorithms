### üç¥ –ü–∞—Ç—Ç–µ—Ä–Ω Tee-Channel

**Tee-channel** ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ–¥–∏–Ω –≤—Ö–æ–¥—è—â–∏–π –∫–∞–Ω–∞–ª –Ω–∞ –¥–≤–∞ (–∏–ª–∏ –±–æ–ª–µ–µ) –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –≤—ã—Ö–æ–¥—è—â–∏—Ö –∫–∞–Ω–∞–ª–∞. –≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ —Å–∞–Ω—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Ç—Ä–æ–π–Ω–∏–∫ (Tee): –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è, –ø–æ–∑–≤–æ–ª—è—è —Ä–∞–∑–Ω—ã–º —á–∞—Å—Ç—è–º –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–ª—É—á–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

---

### üß† –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Ä–µ–ø–æ—Ä—Ç–∞–∂ —Å –º–µ—Å—Ç–∞ —Å–æ–±—ã—Ç–∏–π. –û–¥–Ω–∞ –∫–∞–º–µ—Ä–∞ (–≤—Ö–æ–¥–Ω–æ–π –∫–∞–Ω–∞–ª) –ø–µ—Ä–µ–¥–∞–µ—Ç –≤–∏–¥–µ–æ—Ä—è–¥, –∫–æ—Ç–æ—Ä—ã–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–¥–µ—Ç –∏ –≤ –ø—Ä—è–º–æ–π —ç—Ñ–∏—Ä –Ω–∞ –¢–í, –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∞—Ä—Ö–∏–≤ –Ω–∞ –¥–∏—Å–∫ (–≤—ã—Ö–æ–¥—è—â–∏–µ –∫–∞–Ω–∞–ª—ã).

```mermaid
graph LR
    In[Input Channel] --> T{Tee Splitter}
    T --> Out1[Output 1]
    T --> Out2[Output 2]
```

---

### üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–í–∞–∂–Ω–æ–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —è–≤–ª—è–µ—Ç—Å—è —Ç–æ, —á—Ç–æ –º—ã –¥–æ–ª–∂–Ω—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –≤–æ **–≤—Å–µ** –≤—ã—Ö–æ–¥–Ω—ã–µ –∫–∞–Ω–∞–ª—ã, –Ω–µ –±–ª–æ–∫–∏—Ä—É—è –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –Ω–∞–¥–æ–ª–≥–æ.

```go
package main

import (
	"fmt"
)

// tee —Ä–∞–∑–¥–µ–ª—è–µ—Ç –æ–¥–∏–Ω –≤—Ö–æ–¥—è—â–∏–π –∫–∞–Ω–∞–ª –Ω–∞ –¥–≤–∞ –≤—ã—Ö–æ–¥—è—â–∏—Ö
// tee splits one input channel into two output channels
func tee(done <-chan interface{}, in <-chan interface{}) (<-chan interface{}, <-chan interface{}) {
	out1 := make(chan interface{})
	out2 := make(chan interface{})

	go func() {
		defer close(out1)
		defer close(out2)

		for val := range in {
			// –ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–ø–∏–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ select
			// Using local copies for safe select
			var out1, out2 = out1, out2
			
			// –ù–∞–º –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –û–ë–ê –∫–∞–Ω–∞–ª–∞
			// We need to send the value to BOTH channels
			for i := 0; i < 2; i++ {
				select {
				case <-done:
					return
				case out1 <- val:
					out1 = nil // –ë–æ–ª—å—à–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—é–¥–∞ –≤ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
				case out2 <- val:
					out2 = nil // –ë–æ–ª—å—à–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—é–¥–∞ –≤ —ç—Ç–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
				}
			}
		}
	}()

	return out1, out2
}

func main() {
	done := make(chan interface{})
	defer close(done)

	in := make(chan interface{})

	// –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö
	// Data generator
	go func() {
		defer close(in)
		for i := 1; i <= 3; i++ {
			in <- i
		}
	}()

	// –†–∞–∑–¥–µ–ª—è–µ–º –ø–æ—Ç–æ–∫
	// Splitting the stream
	out1, out2 := tee(done, in)

	fmt.Println("–ß—Ç–µ–Ω–∏–µ –∏–∑ –¥–≤—É—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –ø–æ—Ç–æ–∫–æ–≤...")
	// Reading from two independent streams...

	for val1 := range out1 {
		fmt.Printf("–ü–æ—Ç–æ–∫ 1: %v | ", val1)
		fmt.Printf("–ü–æ—Ç–æ–∫ 2: %v\n", <-out2)
	}
}
```

---

### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ö–∞–∂–¥—ã–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –∫–æ–ø–∏—é –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞.
2. **–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º**: –ß—Ç–µ–Ω–∏–µ –∏–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º. –ï—Å–ª–∏ –æ–¥–∏–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —á–∏—Ç–∞—Ç—å, –æ–Ω –∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç `tee`, –∏ –≤—Ç–æ—Ä–æ–π –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å —Ç–æ–∂–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.
3. **Select-–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–∞ –∏–∑ –¥–≤—É—Ö `select` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ –æ–±–∞ –∫–∞–Ω–∞–ª–∞, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∫—Ç–æ –∏–∑ –Ω–∏—Ö –≥–æ—Ç–æ–≤ –ø–µ—Ä–≤—ã–º.

> [!WARNING]
> –ï—Å–ª–∏ –æ–¥–∏–Ω –∏–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è, —ç—Ç–æ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –∑–∞–≤–∏—Å–∞–Ω–∏—é –≤—Å–µ–≥–æ –∫–æ–Ω–≤–µ–π–µ—Ä–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –∏–ª–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã.
