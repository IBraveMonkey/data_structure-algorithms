### üë∑ –ü–∞—Ç—Ç–µ—Ä–Ω Worker Pool (–ü—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤)

**Worker Pool** ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏ –ø–∞–º—è—Ç–∏, –Ω–µ –¥–æ–ø—É—Å–∫–∞—è –∏—Ö –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–¥–∞–Ω–∏–π.

---

### üß† –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –º–∞—Å—Ç–µ—Ä—Å–∫—É—é, –≥–¥–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç—Ä–∏ –º–∞—Å—Ç–µ—Ä–∞ (–≤–æ—Ä–∫–µ—Ä–∞). –ù–∞ —Å—Ç–æ–ª–µ –ª–µ–∂–∏—Ç —Å—Ç–æ–ø–∫–∞ –∑–∞–∫–∞–∑–æ–≤ (–∫–∞–Ω–∞–ª –∑–∞–¥–∞—á). –ú–∞—Å—Ç–µ—Ä–∞ –ø–æ –æ—á–µ—Ä–µ–¥–∏ –±–µ—Ä—É—Ç –∑–∞–∫–∞–∑—ã, –≤—ã–ø–æ–ª–Ω—è—é—Ç –∏—Ö –∏ —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç –≥–æ—Ç–æ–≤—ã–µ –∏–∑–¥–µ–ª–∏—è –≤ –∫–æ—Ä–æ–±–∫—É (–∫–∞–Ω–∞–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤).

```mermaid
graph TD
    Tasks[Task Queue] --> W1[Worker 1]
    Tasks --> W2[Worker 2]
    Tasks --> W3[Worker 3]
    W1 --> Res[Results Channel]
    W2 --> Res
    W3 --> Res
```

---

### üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–µ–º –ø—É–ª –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–æ—Ä–∫–µ—Ä–æ–≤ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤.

```go
package main

import (
	"fmt"
	"sync"
	"time"
)

// Task –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–¥–∞—á—É –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
// Task represents a task for processing
type Task struct {
	ID       int
	Filename string
}

// Worker —á–∏—Ç–∞–µ—Ç –∑–∞–¥–∞—á–∏ –∏–∑ –∫–∞–Ω–∞–ª–∞ –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö
// Worker reads tasks from the channel and processes them
func Worker(id int, taskCh <-chan Task, resCh chan<- string, wg *sync.WaitGroup) {
	defer wg.Done()
	for task := range taskCh {
		// –ò–º–∏—Ç–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (1 —Å–µ–∫—É–Ω–¥–∞)
		// Simulating processing (1 second)
		fmt.Printf("–í–æ—Ä–∫–µ—Ä %d –Ω–∞—á–∞–ª –æ–±—Ä–∞–±–æ—Ç–∫—É %s\n", id, task.Filename)
		time.Sleep(time.Second) 
		resCh <- fmt.Sprintf("–í–æ—Ä–∫–µ—Ä %d –∑–∞–≤–µ—Ä—à–∏–ª %s", id, task.Filename)
	}
}

func main() {
	const numWorkers = 3
	const numTasks = 5

	taskCh := make(chan Task, numTasks)
	resCh := make(chan string, numTasks)
	var wg sync.WaitGroup

	// –ó–∞–ø—É—Å–∫–∞–µ–º –ø—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤
	// Starting the worker pool
	for i := 1; i <= numWorkers; i++ {
		wg.Add(1)
		go Worker(i, taskCh, resCh, &wg)
	}

	// –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–¥–∞—á–∏ –≤ –ø—É–ª
	// Sending tasks to the pool
	go func() {
		for i := 1; i <= numTasks; i++ {
			taskCh <- Task{ID: i, Filename: fmt.Sprintf("image_%d.jpg", i)}
		}
		close(taskCh) // –ó–∞–∫—Ä—ã–≤–∞–µ–º –∫–∞–Ω–∞–ª –∑–∞–¥–∞—á, –∫–æ–≥–¥–∞ –≤—Å—ë –æ—Ç–ø—Ä–∞–≤–∏–ª–∏
	}()

	// –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–æ—Ä–∫–µ—Ä–æ–≤ –∏ –∑–∞–∫—Ä—ã–≤–∞–µ–º –∫–∞–Ω–∞–ª —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
	// Waiting for workers and closing the results channel
	go func() {
		wg.Wait()
		close(resCh)
	}()

	fmt.Println("–ü—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤ –∑–∞–ø—É—â–µ–Ω...")
	// Worker pool started...

	// –ß–∏—Ç–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
	// Reading results
	for res := range resCh {
		fmt.Println(res)
	}
	fmt.Println("–í—Å–µ –∑–∞–¥–∞—á–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ã.")
}
```

---

### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–µ—Å—É—Ä—Å–æ–≤**: –í—ã —Ç–æ—á–Ω–æ –∑–Ω–∞–µ—Ç–µ, —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Ä—É—Ç–∏–Ω —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ.
2. **–û—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–≥–ª–∞–∂–∏–≤–∞—Ç—å –ø–∏–∫–æ–≤—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏.
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ó–∞–¥–∞—á–∏ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è, –∞ –∂–¥—É—Ç —Å–≤–æ–µ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞ –≤ –æ—á–µ—Ä–µ–¥–∏.

> [!IMPORTANT]
> –í—Å–µ–≥–¥–∞ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –∫–∞–Ω–∞–ª –∑–∞–¥–∞—á (`taskCh`), —á—Ç–æ–±—ã –≤–æ—Ä–∫–µ—Ä—ã –º–æ–≥–ª–∏ –≤—ã–π—Ç–∏ –∏–∑ —Ü–∏–∫–ª–∞ `range` –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–≤–æ—é —Ä–∞–±–æ—Ç—É.
