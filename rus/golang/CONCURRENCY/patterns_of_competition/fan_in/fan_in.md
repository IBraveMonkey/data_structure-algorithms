### üå™Ô∏è –ü–∞—Ç—Ç–µ—Ä–Ω Fan-In (–í–µ–µ—Ä-–≤)

**Fan-In** ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ –≤ –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π –∫–∞–Ω–∞–ª. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

---

### üß† –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ –≤–ø–∞–¥–∞—é—Ç –≤ –æ–¥–Ω–æ –º–æ—Ä–µ. –ö–∞–∂–¥–∞—è —Ä–µ–∫–∞ (–≤—Ö–æ–¥—è—â–∏–π –∫–∞–Ω–∞–ª) –Ω–µ—Å–µ—Ç —Å–≤–æ–∏ –≤–æ–¥—ã (–¥–∞–Ω–Ω—ã–µ), –∏ –≤—Å–µ –æ–Ω–∏ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è –≤ –º–æ—Ä–µ (—Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π –∫–∞–Ω–∞–ª).

```mermaid
graph LR
    Ch1[Channel 1] --> Merge((Merge))
    Ch2[Channel 2] --> Merge
    Ch3[Channel 3] --> Merge
    Merge --> Out[Output Channel]
```

---

### üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –º—ã —Å–æ–∑–¥–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é `MergeChannels`, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–Ω–∞–ª–æ–≤ –≤ –æ–¥–∏–Ω.

```go
package main

import (
	"fmt"
	"sync"
	"time"
)

// MergeChannels –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤—Ö–æ–¥—è—â–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ –≤ –æ–¥–∏–Ω –≤—ã—Ö–æ–¥–Ω–æ–π –∫–∞–Ω–∞–ª
// MergeChannels multiplexes multiple input channels into a single output channel
func MergeChannels(channels ...<-chan int) <-chan int {
	res := make(chan int)
	wg := sync.WaitGroup{}

	// –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å—á–µ—Ç—á–∏–∫ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–Ω–∞–ª–æ–≤
	// Add the number of channels to the counter
	wg.Add(len(channels))

	// –ó–∞–ø—É—Å–∫–∞–µ–º –≥–æ—Ä—É—Ç–∏–Ω—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—Ö–æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞
	// Launch a goroutine for each input channel
	for _, channel := range channels {
		go func(c <-chan int) {
			defer wg.Done()
			for value := range c {
				res <- value
			}
		}(channel)
	}

	// –ì–æ—Ä—É—Ç–∏–Ω–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–≥–æ –∫–∞–Ω–∞–ª–∞
	// Goroutine to close the resulting channel
	go func() {
		wg.Wait()
		close(res)
	}()

	return res
}

func main() {
	// –°–æ–∑–¥–∞–µ–º —Ç—Ä–∏ –∫–∞–Ω–∞–ª–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
	// Create three channels for demonstration
	ch1 := make(chan int)
	ch2 := make(chan int)
	ch3 := make(chan int)

	go func() {
		defer func() {
			close(ch1)
			close(ch2)
			close(ch3)
		}()

		for i := 0; i < 9; i += 3 {
			ch1 <- i
			ch2 <- i + 1
			ch3 <- i + 2
			time.Sleep(100 * time.Millisecond)
		}
	}()

	fmt.Println("–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–Ω–∞–ª–æ–≤...")
	// Collecting data from multiple channels...

	for value := range MergeChannels(ch1, ch2, ch3) {
		fmt.Printf("–ü–æ–ª—É—á–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ: %d\n", value)
	}
	fmt.Println("–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–±—Ä–∞–Ω—ã.")
}
```

---

### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –í—ã –º–æ–∂–µ—Ç–µ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å —Å–∫–æ–ª—å —É–≥–æ–¥–Ω–æ –º–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–æ–≤.
2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `sync.WaitGroup` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–∏–π –∫–∞–Ω–∞–ª –∑–∞–∫—Ä–æ–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–∏ –∑–∞–≤–µ—Ä—à–∞—Ç —Ä–∞–±–æ—Ç—É.
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞–Ω–∞–ª —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (`<-chan`), —á—Ç–æ –∑–∞—â–∏—â–∞–µ—Ç –µ–≥–æ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∏–∑–≤–Ω–µ.

> [!IMPORTANT]
> –í—Å–µ–≥–¥–∞ —Å–ª–µ–¥–∏—Ç–µ –∑–∞ —Ç–µ–º, —á—Ç–æ–±—ã –≤—Ö–æ–¥—è—â–∏–µ –∫–∞–Ω–∞–ª—ã –∑–∞–∫—Ä—ã–≤–∞–ª–∏—Å—å, –∏–Ω–∞—á–µ `MergeChannels` –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —É—Ç–µ—á–∫–µ –≥–æ—Ä—É—Ç–∏–Ω (–∏–∑-–∑–∞ –≤–µ—á–Ω–æ–≥–æ –æ–∂–∏–¥–∞–Ω–∏—è –≤ `wg.Wait()`).
