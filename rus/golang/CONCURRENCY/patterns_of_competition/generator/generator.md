### üèóÔ∏è –ü–∞—Ç—Ç–µ—Ä–Ω Generator (–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä)

**Generator** ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–π –∫–∞–Ω–∞–ª –¥–ª—è —á—Ç–µ–Ω–∏—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–∑—ã–≤–∞—é—â–µ–π —Å—Ç–æ—Ä–æ–Ω–µ –ø–æ–ª—É—á–∞—Ç—å –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –ø–æ –º–µ—Ä–µ –∏—Ö –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏, –Ω–µ –∑–∞–±–æ—Ç—è—Å—å –æ —Ç–æ–º, –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –æ–Ω–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è.

---

### üß† –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –∫—Ä–∞–Ω —Å –≤–æ–¥–æ–π. –í–∞–º –Ω–µ –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, –æ—Ç–∫—É–¥–∞ –±–µ—Ä–µ—Ç—Å—è –≤–æ–¥–∞; –≤—ã –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç–µ –∫—Ä–∞–Ω (–≤—ã–∑—ã–≤–∞–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä) –∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç–µ —Å—Ç–∞–∫–∞–Ω (—á–∏—Ç–∞–µ—Ç–µ –∏–∑ –∫–∞–Ω–∞–ª–∞).

```mermaid
graph TD
    Gen[Generator Function] -->|Creates| Ch[Channel]
    Gen -->|Starts| G[Internal Goroutine]
    G -->|Produces Data| Ch
    Ch -.->|Returns| Consumer[Consumer]
```

---

### üíª –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —Ñ—É–Ω–∫—Ü–∏—è-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –¥–≤—É—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –≥–æ—Ä—É—Ç–∏–Ω –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ –æ–¥–∏–Ω –∫–∞–Ω–∞–ª.

```go
package main

import (
	"fmt"
	"sync"
)

// writer ‚Äî —ç—Ç–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –∫–∞–Ω–∞–ª –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ
// writer is a generator that creates a channel and returns it
func writer() <-chan int {
	ch := make(chan int)
	wg := &sync.WaitGroup{}

	// –î–æ–±–∞–≤–ª—è–µ–º 2 –≥–æ—Ä—É—Ç–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç "–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å" –¥–∞–Ω–Ω—ã–µ
	// Add 2 goroutines that will "produce" data
	wg.Add(2)

	// –ü–µ—Ä–≤–∞—è –≥–æ—Ä—É—Ç–∏–Ω–∞: —á–∏—Å–ª–∞ 1-5
	// First goroutine: numbers 1-5
	go func() {
		defer wg.Done()
		for i := 1; i <= 5; i++ {
			ch <- i
		}
	}()

	// –í—Ç–æ—Ä–∞—è –≥–æ—Ä—É—Ç–∏–Ω–∞: —á–∏—Å–ª–∞ 11-15
	// Second goroutine: numbers 11-15
	go func() {
		defer wg.Done()
		for i := 11; i <= 15; i++ {
			ch <- i
		}
	}()

	// –ì–æ—Ä—É—Ç–∏–Ω–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –∫–∞–Ω–∞–ª–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
	// Goroutine to close the channel after all producers finish
	go func() {
		wg.Wait()
		close(ch)
	}()

	// –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–∞–Ω–∞–ª —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
	return ch
}

func main() {
	fmt.Println("–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞–ø—É—â–µ–Ω...")
	// Generator started...

	// –ü–æ–ª—É—á–∞–µ–º –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
	// Receiving data stream from the generator
	dataStream := writer()

	for v := range dataStream {
		fmt.Printf("–ü–æ–ª—É—á–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ: %d\n", v)
	}
	fmt.Println("–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞.")
}
```

---

### üí° –ú–∏–∫—Ä–æ–ø–∞—Ç—Ç–µ—Ä–Ω: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏

–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Ç–∞–π–º–∞—É—Ç–∞–º–∏. –ï—Å–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ, –º—ã –º–æ–∂–µ–º –ø—Ä–µ—Ä–≤–∞—Ç—å –æ–∂–∏–¥–∞–Ω–∏–µ.

```go
// –ü—Ä–∏–º–µ—Ä –æ–∂–∏–¥–∞–Ω–∏—è —Å —Ç–∞–π–º–∞—É—Ç–æ–º
// Example of waiting with a timeout
select {
case v := <-ch:
    fmt.Println("–ü–æ–ª—É—á–µ–Ω–æ:", v)
case <-time.After(3 * time.Second):
    fmt.Println("–û—à–∏–±–∫–∞: –ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è")
}
```

---

### üí° –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è**: –í—Å—è –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≥–æ—Ä—É—Ç–∏–Ω—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–æ–º —Å–∫—Ä—ã—Ç–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏.
2. **–õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**: –î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è "–Ω–∞ –ª–µ—Ç—É" —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –æ–Ω–∏ –Ω—É–∂–Ω—ã –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é.
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `<-chan` —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –∫–∞–Ω–∞–ª –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è.

> [!TIP]
> –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–º, –µ—Å–ª–∏ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –∫–∞–Ω–∞–ª –∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ü–∏–∫–ª–µ `for { ... }`.
