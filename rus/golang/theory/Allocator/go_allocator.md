# ‚öôÔ∏è –ê–ª–ª–æ–∫–∞—Ç–æ—Ä –ø–∞–º—è—Ç–∏ –≤ Go  
## üèóÔ∏è –ö–∞–∫ Go —É–ø—Ä–∞–≤–ª—è–µ—Ç –∫—É—á–µ–π: –°—Ö–µ–º—ã, —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## 0. üèÅ –í–≤–µ–¥–µ–Ω–∏–µ

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –∫–∞–∫ Go –≤—ã–¥–µ–ª—è–µ—Ç –ø–∞–º—è—Ç—å, –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –±–∞–∑—É –∏–∑ [OS Memory Base](./Base.md): –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—É **–≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –ø–∞–º—è—Ç—å**, —Ä–∞–∑–±–∏—Ç—É—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

Go –Ω–µ –ø—Ä–æ—Å–∏—Ç —É –û–° –ø–∞–º—è—Ç—å –ø–æ–¥ –∫–∞–∂–¥—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (—ç—Ç–æ –±—ã–ª–æ –±—ã —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ –∏–∑-–∑–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤). –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ Go –∑–∞–±–∏—Ä–∞–µ—Ç —É –û–° –æ–≥—Ä–æ–º–Ω—ã–µ –∫—É—Å–∫–∏ –ø–∞–º—è—Ç–∏ (**Arenas**) –∏ —Å–∞–º –Ω–∞—Ä–µ–∑–∞–µ—Ç –∏—Ö –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ —á–∞—Å—Ç–∏.

> [!IMPORTANT]
> –î–∏–∑–∞–π–Ω –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–∞ Go –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ **TCMalloc** (Thread-Caching Allocator). –ì–ª–∞–≤–Ω–∞—è –∏–¥–µ—è: –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (locks), –¥–∞–≤–∞—è –∫–∞–∂–¥–æ–º—É –ø–æ—Ç–æ–∫—É (–≤ Go ‚Äî –∫–∞–∂–¥–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä—É P) —Å–≤–æ–π –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø–∞—Å –ø–∞–º—è—Ç–∏.

---

## 1. üìÇ –§–∏–∑–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –ú–∞—Ç—Ä–µ—à–∫–∞ –∏–∑ –ø–∞–º—è—Ç–∏

–ê–ª–ª–æ–∫–∞—Ç–æ—Ä Go –≤–∏–¥–∏—Ç –ø–∞–º—è—Ç—å –∫–∞–∫ –∏–µ—Ä–∞—Ä—Ö–∏—é —Å—Ç—Ä—É–∫—Ç—É—Ä.

### 1.1 Page (–°—Ç—Ä–∞–Ω–∏—Ü–∞)
–ö–∞–∫ –∏ –≤ –û–°, –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∑–¥–µ—Å—å ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞. –í Go –æ–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±—ã—á–Ω–æ —Ä–∞–≤–Ω–∞ **8 KB**.

### 1.2 mspan (–°–ø–∞–Ω)
–≠—Ç–æ –±–∞–∑–æ–≤—ã–π –∫–∏—Ä–ø–∏—á–∏–∫ –∞–ª–ª–æ–∫–∞—Ç–æ—Ä–∞. 
**mspan** ‚Äî —ç—Ç–æ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –Ω–∞–±–æ—Ä –∏–∑ –æ–¥–Ω–æ–π –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω —Å–ø–∞–Ω –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å 3 —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ 8 KB = 24 KB).

–°–ø–∞–Ω—ã –Ω–∞—Ä–µ–∑–∞—é—Ç—Å—è –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞. –ù–∞–ø—Ä–∏–º–µ—Ä:
- –°–ø–∞–Ω –ê: –Ω–∞—Ä–µ–∑–∞–Ω –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –ø–æ 8 –±–∞–π—Ç.
- –°–ø–∞–Ω –ë: –Ω–∞—Ä–µ–∑–∞–Ω –Ω–∞ –æ–±—ä–µ–∫—Ç—ã –ø–æ 16 –±–∞–π—Ç.

### 1.3 Arena (–ê—Ä–µ–Ω–∞)
–≠—Ç–æ –æ–≥—Ä–æ–º–Ω—ã–µ –∫—É—Å–∫–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ (–ø–æ 64 MB –≤ 64-–±–∏—Ç–Ω–æ–º Linux), –∫–æ—Ç–æ—Ä—ã–µ Go –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —É –û–°. –í–µ—Å—å Heap (–∫—É—á–∞) –≤ Go —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–∞–±–æ—Ä–∞ —Ç–∞–∫–∏—Ö –∞—Ä–µ–Ω.

```mermaid
graph TD
    subgraph Arena ["Arena (64 MB)"]
        direction TB
        subgraph Span1 ["mspan 1 (Objects: 8B)"]
            obj1[obj]
            obj2[obj]
            obj3[obj]
        end
        subgraph Span2 ["mspan 2 (Objects: 16B)"]
            obj4[obj]
            obj5[obj]
        end
    end
```

---

## 2. üìè Size Classes: –ë–æ—Ä—å–±–∞ —Å —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏–µ–π

–ï—Å–ª–∏ –º—ã –±—É–¥–µ–º –≤—ã–¥–µ–ª—è—Ç—å —Ä–æ–≤–Ω–æ —Å—Ç–æ–ª—å–∫–æ –±–∞–π—Ç, —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, 13 –±–∞–π—Ç, –ø–æ—Ç–æ–º 7, –ø–æ—Ç–æ–º 21), –≤ –ø–∞–º—è—Ç–∏ –æ–±—Ä–∞–∑—É—é—Ç—Å—è "–¥—ã—Ä–∫–∏" ‚Äî **—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è**.

–ß—Ç–æ–±—ã —ç—Ç–æ–≥–æ –∏–∑–±–µ–∂–∞—Ç—å, Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Size Classes** (–∫–ª–∞—Å—Å—ã —Ä–∞–∑–º–µ—Ä–æ–≤).
–í—Å–µ–≥–æ –∏—Ö –æ–∫–æ–ª–æ 67. –ï—Å–ª–∏ –≤—ã –ø—Ä–æ—Å–∏—Ç–µ 13 –±–∞–π—Ç, Go –≤—ã–¥–µ–ª–∏—Ç –≤–∞–º –æ–±—ä–µ–∫—Ç –∏–∑ –∫–ª–∞—Å—Å–∞ "16 –±–∞–π—Ç". –î–∞, 3 –±–∞–π—Ç–∞ –ø—Ä–æ–ø–∞–¥—É—Ç –∑—Ä—è (**–≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è**), –Ω–æ –∑–∞—Ç–æ –ø–∞–º—è—Ç—å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —á–∏—Å—Ç–æ–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π.

> [!TIP]
> –ö–ª–∞—Å—Å—ã —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–æ–∑–≤–æ–ª—è—é—Ç –∞–ª–ª–æ–∫–∞—Ç–æ—Ä—É –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ: –æ–Ω –ø—Ä–æ—Å—Ç–æ –∏—â–µ—Ç –±–ª–∏–∂–∞–π—à–∏–π –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Å–ø–∞–Ω –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞.

---

## 3. ü™ú –õ–æ–≥–∏—á–µ—Å–∫–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è: –¢—Ä–∏ —É—Ä–æ–≤–Ω—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

–ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å –±—ã—Å—Ç—Ä–æ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π, Go –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É.

### 3.1 mcache (–õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à)
–£ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ **P** (–∏–∑ GMP –º–æ–¥–µ–ª–∏) –µ—Å—Ç—å —Å–≤–æ–π `mcache`.
- **–ó–∞—á–µ–º**: –ß—Ç–æ–±—ã –≤—ã–¥–µ–ª—è—Ç—å –ø–∞–º—è—Ç—å **–±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫**. –ì–æ—Ä—É—Ç–∏–Ω–∞ –Ω–∞ P –ø—Ä–æ—Å—Ç–æ –±–µ—Ä–µ—Ç –ø–∞–º—è—Ç—å –∏–∑ —Å–≤–æ–µ–≥–æ `mcache`.
- **–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏**: –ù–∞–±–æ—Ä —Å–ø–∞–Ω–æ–≤ —Ä–∞–∑–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤ —Ä–∞–∑–º–µ—Ä–æ–≤.

### 3.2 mcentral (–û–±—â–∏–π —Å–∫–ª–∞–¥ —Å–ø–∞–Ω–æ–≤)
–ï—Å–ª–∏ –≤ `mcache` –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –Ω—É–∂–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞, –æ–Ω –∏–¥–µ—Ç –≤ `mcentral`.
- **–ó–∞—á–µ–º**: –û–±—â–∏–π —Å–∫–ª–∞–¥ –¥–ª—è –≤—Å–µ—Ö P.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å**: –ó–¥–µ—Å—å –µ—Å—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (`mutex`), –Ω–æ –æ–Ω–∞ **–≥—Ä–∞–Ω—É–ª—è—Ä–Ω–∞—è** ‚Äî —Ç–æ–ª—å–∫–æ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–ª–∞—Å—Å —Ä–∞–∑–º–µ—Ä–∞.

### 3.3 mheap (–ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫—É—á–∞)
–ï—Å–ª–∏ –∏ –≤ `mcentral` –ø—É—Å—Ç–æ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ `mheap`.
- **–ó–∞—á–µ–º**: –•—Ä–∞–Ω–∏—Ç –≤—Å–µ –∞—Ä–µ–Ω—ã –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å**: –°–∞–º–∞—è "—Ç—è–∂–µ–ª–∞—è" –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ –≤–µ—Å—å –∞–ª–ª–æ–∫–∞—Ç–æ—Ä.

**–°—Ö–µ–º–∞ –∏–µ—Ä–∞—Ä—Ö–∏–∏:**
```mermaid
graph TD
    G[Goroutine] -->|–ü—Ä–æ—Å–∏—Ç –ø–∞–º—è—Ç—å| P["mcache (—É Processor P)"]
    P -->|–ù–µ—Ç –º–µ—Å—Ç–∞| C["mcentral (Shared Spans)"]
    C -->|–ù–µ—Ç –º–µ—Å—Ç–∞| H["mheap (Global Heap)"]
    H -->|–ù—É–∂–Ω–∞ –ø–∞–º—è—Ç—å| OS["OS: mmap/Virtual Memory"]
    
    style P fill:#d4edda,stroke:#28a745
    style C fill:#fff3cd,stroke:#ffc107
    style H fill:#f8d7da,stroke:#dc3545
```
---

## 4. üöÄ –ö–∞–∫ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –ø–∞–º—è—Ç—å: –¢—Ä–∏ –ø—É—Ç–∏

Go –¥–µ–ª–∏—Ç –æ–±—ä–µ–∫—Ç—ã –Ω–∞ —Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö —Ä–∞–∑–º–µ—Ä–∞:

### 4.1 Tiny Objects (< 16 –±–∞–π—Ç)
–≠—Ç–æ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –º–∞–ª–µ–Ω—å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ —á–∏—Å–ª–∞).
- **–ü—É—Ç—å**: `mcache` -> **Tiny Allocator**.
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –ß—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å –ø–æ —Ü–µ–ª–æ–º—É –±–ª–æ–∫—É –Ω–∞ –∫–∞–∂–¥—ã–π "—á–∏—Ö", Go —É–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä–æ—à–µ—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –æ–¥–∏–Ω –±–ª–æ–∫ —Ä–∞–∑–º–µ—Ä–æ–º 16 –±–∞–π—Ç.

### 4.2 Small Objects (–æ—Ç 16 –±–∞–π—Ç –¥–æ 32 KB)
–°–∞–º—ã–π —á–∞—Å—Ç—ã–π —Å–ª—É—á–∞–π.
- **–ü—É—Ç—å**: `mcache` -> `mcentral` -> `mheap`.
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: –ò—â–µ—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–ª–æ—Ç –≤ `mcache` –Ω—É–∂–Ω–æ–≥–æ Size Class. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π —Å–ø–∞–Ω —É `mcentral`.

### 4.3 Large Objects (> 32 KB)
–û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–ª–∏ —Å–ª–∞–π—Å—ã.
- **–ü—É—Ç—å**: **–ù–∞–ø—Ä—è–º—É—é –≤ `mheap`**.
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å**: –¢–∞–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã —Å–ª–∏—à–∫–æ–º –≤–µ–ª–∏–∫–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∫—ç—à–µ–π. –û–Ω–∏ –≤—ã–¥–µ–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –∫—É—á–µ, –æ–±—Ö–æ–¥—è `mcache` –∏ `mcentral`.

---

## 5. üìç –ö—É–¥–∞ –ø–æ–ø–∞–¥—É—Ç –¥–∞–Ω–Ω—ã–µ: Stack –∏–ª–∏ Heap?

–ù–∞—á–∏–Ω–∞—é—â–∏–µ —á–∞—Å—Ç–æ —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç: "–ê —ç—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –±—É–¥–µ—Ç –≤ —Å—Ç–µ–∫–µ –∏–ª–∏ –≤ –∫—É—á–µ?". –í Go —ç—Ç–∏–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä —Å –ø–æ–º–æ—â—å—é **Escape Analysis** (–∞–Ω–∞–ª–∏–∑ —É—Ç–µ—á–µ–∫).

### 5.1 Stack (–°—Ç–µ–∫)
- **–ß—Ç–æ —Ç–∞–º**: –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ "–Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç" —Ñ—É–Ω–∫—Ü–∏—é.
- **–ü–ª—é—Å—ã**: –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –±—ã—Å—Ç—Ä–æ. –ü–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ (–ø—Ä–æ—Å—Ç–æ —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç–µ–ª—å —Å—Ç–µ–∫–∞).
- **–ú–∏–Ω—É—Å**: –†–∞–∑–º–µ—Ä —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω (–≤ Go —Å—Ç–µ–∫ –≥–æ—Ä—É—Ç–∏–Ω—ã –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 2 KB –∏ –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏, –Ω–æ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω).

### 5.2 Heap (–ö—É—á–∞)
- **–ß—Ç–æ —Ç–∞–º**: –î–∞–Ω–Ω—ã–µ, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö —á–∞—Å—Ç–µ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –æ–±—ä–µ–∫—Ç—ã.
- **–ü–ª—é—Å—ã**: –ñ–∏–≤—É—Ç –¥–æ–ª–≥–æ, —Ä–∞–∑–º–µ—Ä –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω.
- **–ú–∏–Ω—É—Å—ã**: –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –ø–∞–º—è—Ç—å, –∞ –≥–ª–∞–≤–Ω–æ–µ ‚Äî –µ—ë –¥–æ–ª–∂–µ–Ω —á–∏—Å—Ç–∏—Ç—å **Garbage Collector (GC)**, —á—Ç–æ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç CPU.

> [!TIP]
> **–ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ**: –ß–µ–º –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç–µ–∫–µ, —Ç–µ–º –º–µ–Ω—å—à–µ —Ä–∞–±–æ—Ç—ã —É Garbage Collector –∏ —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞.

---

## 6. üéØ –ò—Ç–æ–≥: –ö–∞–∫ –≤—Å—ë —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∫–∞–∫ –ø–æ–∫—É–ø–∫—É –∫–æ—Ñ–µ:
1.  **mcache**: –≠—Ç–æ –≤–∞—à –∫–∞—Ä–º–∞–Ω. –ï—Å–ª–∏ —Ç–∞–º –µ—Å—Ç—å –º–æ–Ω–µ—Ç–∫–∏ (—Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã), –≤—ã –ø–ª–∞—Ç–∏—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.
2.  **mcentral**: –≠—Ç–æ –±–∞–Ω–∫–æ–º–∞—Ç –≤ —Ç–æ—Ä–≥–æ–≤–æ–º —Ü–µ–Ω—Ç—Ä–µ. –ï—Å–ª–∏ –≤ –∫–∞—Ä–º–∞–Ω–µ –ø—É—Å—Ç–æ, –≤—ã –∏–¥–µ—Ç–µ —Ç—É–¥–∞ (–Ω—É–∂–Ω–∞ –Ω–µ–±–æ–ª—å—à–∞—è –æ—á–µ—Ä–µ–¥—å-–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞).
3.  **mheap**: –≠—Ç–æ –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –±–∞–Ω–∫–∞. –ï—Å–ª–∏ –±–∞–Ω–∫–æ–º–∞—Ç —Å–ª–æ–º–∞–Ω –∏–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –æ–≥—Ä–æ–º–Ω–∞—è —Å—É–º–º–∞ (Large Object), –≤—ã –∏–¥–µ—Ç–µ –≤ –±–∞–Ω–∫ (—Å–∞–º–∞—è –¥–æ–ª–≥–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞).

### –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –£—Ä–æ–≤–µ–Ω—å | –ö—Ç–æ –≤–ª–∞–¥–µ–µ—Ç | –°–∫–æ—Ä–æ—Å—Ç—å | –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
| :--- | :--- | :--- | :--- | :--- |
| **mcache** | –ü—Ä–æ—Ü–µ—Å—Å–æ—Ä P | –ú–æ–ª–Ω–∏—è | –ù–µ—Ç (Lock-free) | –ú–µ–ª–∫–∏–µ –∏ —á–∞—Å—Ç—ã–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏ |
| **mcentral** | –ì–ª–æ–±–∞–ª—å–Ω–æ (–Ω–∞ –∫–ª–∞—Å—Å) | –ë—ã—Å—Ç—Ä–æ | Mutex (—Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–∏–Ω Size Class) | –ü–æ–¥–ø–∏—Ç–∫–∞ mcache —Å–ø–∞–Ω–∞–º–∏ |
| **mheap** | –ì–ª–æ–±–∞–ª—å–Ω–æ | –ú–µ–¥–ª–µ–Ω–Ω–æ | –ì–ª–æ–±–∞–ª—å–Ω—ã–π Mutex | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä–µ–Ω–∞–º–∏ –∏ –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ |

> [!NOTE]
> –¢–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–µ–ª–∞–µ—Ç Go –æ–¥–Ω–∏–º –∏–∑ —Å–∞–º—ã—Ö –±—ã—Å—Ç—Ä—ã—Ö —è–∑—ã–∫–æ–≤ –≤ –ø–ª–∞–Ω–µ —Ä–∞–±–æ—Ç—ã —Å –ø–∞–º—è—Ç—å—é —Å—Ä–µ–¥–∏ —è–∑—ã–∫–æ–≤ —Å Garbage Collector.
